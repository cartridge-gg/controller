{"type":"system","subtype":"init","cwd":"/home/runner/work/controller/controller","session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","tools":["Task","Bash","Glob","Grep","LS","ExitPlanMode","Read","Edit","MultiEdit","Write","NotebookEdit","TodoWrite","BashOutput","KillBash"],"mcp_servers":[],"model":"claude-sonnet-4-20250514","permissionMode":"default","slash_commands":["commit","pr","add-dir","agents","clear","compact","config","context","cost","doctor","exit","help","ide","init","install-github-app","mcp","memory","migrate-installer","model","output-style","output-style:new","pr-comments","release-notes","resume","status","statusline","bug","review","security-review","upgrade","vim","permissions","hooks","export","logout","login","bashes"],"apiKeySource":"ANTHROPIC_API_KEY","output_style":"default","uuid":"f45b571e-9f4c-4e3b-b423-e4ad6fdc488e"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01HtSRpF7Tjpbmtq1gWD9tPz","type":"message","role":"assistant","content":[{"type":"text","text":"I'll analyze the git commit history to generate a changelog entry for version 0.13.0. Let me start by examining the commits since v0.12.2."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":5633,"cache_read_input_tokens":10412,"cache_creation":{"ephemeral_5m_input_tokens":5633,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"fefbcbd7-b883-4904-866e-c2057c99d0ef"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01HtSRpF7Tjpbmtq1gWD9tPz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BkfyEfUCRmdsbUvPBLwv2F","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"pending"},{"content":"Extract user-facing changes and categorize them","status":"pending"},{"content":"Read existing CHANGELOG.md format","status":"pending"},{"content":"Generate new changelog entry for 0.13.0","status":"pending"},{"content":"Update CHANGELOG.md with new entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":5633,"cache_read_input_tokens":10412,"cache_creation":{"ephemeral_5m_input_tokens":5633,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"2f3531d5-f855-4fc3-9817-6da00bca7758"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BkfyEfUCRmdsbUvPBLwv2F","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"2e39ad59-7ffa-4747-95f3-1a5b07301f01"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01SyAgwC4PDvsvveAmxM9iXB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013Lt94KDnpVVd74sZWtq7yS","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"in_progress"},{"content":"Extract user-facing changes and categorize them","status":"pending"},{"content":"Read existing CHANGELOG.md format","status":"pending"},{"content":"Generate new changelog entry for 0.13.0","status":"pending"},{"content":"Update CHANGELOG.md with new entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":238,"cache_read_input_tokens":16045,"cache_creation":{"ephemeral_5m_input_tokens":238,"ephemeral_1h_input_tokens":0},"output_tokens":19,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"a47d6e20-c4d9-4a0d-849a-bbf3c3cde25d"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013Lt94KDnpVVd74sZWtq7yS","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"a2107773-ae2e-4116-8ff1-9601d9663949"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EWyMi1f6PVjr9tr5AobPys","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WeM9LyveTzZZFZMm8LNpVW","name":"Bash","input":{"command":"git log v0.12.2..HEAD --oneline --no-merges","description":"Get commit history since v0.12.2"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":206,"cache_read_input_tokens":16283,"cache_creation":{"ephemeral_5m_input_tokens":206,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"4183e1d4-78a9-4908-ad4f-f43e167c739b"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EWyMi1f6PVjr9tr5AobPys","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01F3NG6gdjYEZC68e76gVT1J","name":"Bash","input":{"command":"git log v0.12.2..HEAD --pretty=format:\"%h %s\" --grep=\"feat\\|fix\\|breaking\\|BREAKING\" -i","description":"Filter commits for features, fixes, and breaking changes"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":206,"cache_read_input_tokens":16283,"cache_creation":{"ephemeral_5m_input_tokens":206,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"c328f864-428d-40ec-8dd4-1d7319be6059"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EWyMi1f6PVjr9tr5AobPys","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LCaYxBwDXbJ7Z6GBi8nZMX","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":206,"cache_read_input_tokens":16283,"cache_creation":{"ephemeral_5m_input_tokens":206,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"8fea642d-8da2-4c67-a18e-97fda8dc4263"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WeM9LyveTzZZFZMm8LNpVW","type":"tool_result","content":"0b3729b9 fix: add agent mode to claude-code-action for workflow_dispatch\nc79e6ce2 feat: migrate npm publish to OIDC authentication (#2381)\n2c879ec4 fix: inline changelog generation into release-dispatch (#2379)\n0c7e6a7a Prepare release: 0.12.3 (#2378)\n85cf71a9 feat(keychain): tighten capacitor origin verification (#2375)\n9708f87a Request storage access in iframe connect flow (#2374)\n0044542e feat: emit specialized controller toasts (#2358)\n9d0280ca fix: aggregate contracts on unverified session (#2304)\n9850cc9b Add ApprovalPolicy support to controller toWasmPolicies (#2372)\nb6de9c7c fix: set coinbase sandbox correctly (#2371)\n763e7a04 fix: enhance preset verification for Capacitor (#2369)\n4489a92d Add starterpack play callback (#2362)\nffdac0c6 Ensure canonical sorting of policies before hashing (#2359)\n8ac2235e fix: reuse existing controller to prevent re-initialization issues (#2360)\n0e715765 fix: support non-Cartridge chainId lookup (#2361)\nf29bf3cd Prepare release: 0.12.2 (#2356)","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"92c9ecdb-2e0a-4289-bba1-9a5c47b154ac"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01F3NG6gdjYEZC68e76gVT1J","type":"tool_result","content":"0b3729b9 fix: add agent mode to claude-code-action for workflow_dispatch\nc79e6ce2 feat: migrate npm publish to OIDC authentication (#2381)\n2c879ec4 fix: inline changelog generation into release-dispatch (#2379)\n85cf71a9 feat(keychain): tighten capacitor origin verification (#2375)\n0044542e feat: emit specialized controller toasts (#2358)\n9d0280ca fix: aggregate contracts on unverified session (#2304)\n9850cc9b Add ApprovalPolicy support to controller toWasmPolicies (#2372)\nb6de9c7c fix: set coinbase sandbox correctly (#2371)\n763e7a04 fix: enhance preset verification for Capacitor (#2369)\nffdac0c6 Ensure canonical sorting of policies before hashing (#2359)\n8ac2235e fix: reuse existing controller to prevent re-initialization issues (#2360)\n0e715765 fix: support non-Cartridge chainId lookup (#2361)","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"450b0d2a-e733-4958-8d44-e4d690c85f5a"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LCaYxBwDXbJ7Z6GBi8nZMX","type":"tool_result","content":"     1â†’# Changelog\n     2â†’\n     3â†’## [0.12.3] - 2026-02-05\n     4â†’\n     5â†’### âœ¨ New Features\n     6â†’- **@cartridge/keychain**: Added Capacitor origin verification tightening for enhanced security in mobile environments (#2375)\n     7â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback (#2358)\n     8â†’- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for enhanced policy management (#2372)\n     9â†’- **@cartridge/controller**: Added starterpack play callback functionality for improved gaming integration (#2362)\n    10â†’\n    11â†’### ğŸš€ Improvements  \n    12â†’- **@cartridge/keychain**: Enhanced iframe connect flow with automatic storage access request for improved cross-domain authentication (#2374)\n    13â†’- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing (#2359)\n    14â†’- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation (#2369)\n    15â†’\n    16â†’### ğŸ› Bug Fixes\n    17â†’- **@cartridge/controller**: Fixed aggregate contracts on unverified session to prevent session-related issues (#2304)\n    18â†’- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n    19â†’- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances (#2360)\n    20â†’- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations (#2361)\n    21â†’\n    22â†’## [0.12.2] - 2026-01-29\n    23â†’\n    24â†’### âœ¨ New Features\n    25â†’- **Examples**: Added Capacitor session example with iOS app integration, demonstrating mobile session management and providing comprehensive cross-platform development guidance (#2355)\n    26â†’- **@cartridge/keychain**: Enhanced Coinbase onramp integration with `createCoinbaseLayerswapOrder` mutation for improved order creation and processing (#2354)\n    27â†’- **@cartridge/keychain**: Added comprehensive cost breakdown display for Apple Pay purchases, showing detailed fee structure including Coinbase fees and bridge fees with real-time pricing from Coinbase Onramp API (#2352)\n    28â†’- **@cartridge/keychain**: Added starterpack Apple Pay checkout functionality for streamlined mobile payments (#2339)\n    29â†’- **@cartridge/keychain**: Implemented verification autofill functionality for improved user experience during authentication flows (#2342)\n    30â†’- **@cartridge/keychain**: Added order fetching by IDs capability for enhanced order management and tracking (#2334)\n    31â†’\n    32â†’### ğŸš€ Improvements  \n    33â†’- **@cartridge/keychain**: Removed supported-platforms feature gate, making platform detection generally available (#2335)\n    34â†’- **Development**: Migrated skills documentation to centralized `.agents/skills` directory for better organization and AI-assisted development workflows (#2353)\n    35â†’\n    36â†’### ğŸ› Bug Fixes\n    37â†’- **@cartridge/keychain**: Fixed 'proceed with caution' warning visibility for slot login flows, improving user experience (#2351)\n    38â†’- **@cartridge/keychain**: Fixed purchase token layout issues for better visual consistency (#2343)\n    39â†’- **@cartridge/keychain**: Fixed Layerswap username retrieval from authentication context for proper user identification (#2347)\n    40â†’- **@cartridge/keychain**: Fixed Coinbase Terms of Service link for proper legal compliance (#2341)\n    41â†’- **@cartridge/keychain**: Fixed Coinbase query handling for improved API integration (#2338)\n    42â†’\n    43â†’### ğŸ“¦ Dependencies\n    44â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#2350, #2348, #2346, #2345, #2344, #2337)\n    45â†’\n    46â†’## [0.12.1] - 2026-01-07\n    47â†’\n    48â†’### âœ¨ New Features\n    49â†’- **@cartridge/controller**: Added configurable error display modes with `errorDisplayMode` option, enabling developers to control how transaction errors are presented to users with three modes: `modal` (default), `notification` (clickable toast), and `silent` (console only) (#2312)\n    50â†’\n    51â†’### ğŸš€ Improvements  \n    52â†’- **Development**: Enhanced Claude Code integration with structured skill guides for code review, PR management, testing, Storybook snapshots, and release workflows (#2311, #2310)\n    53â†’- **Documentation**: Expanded CLAUDE.md with detailed technology stack versions, build process explanations, and comprehensive development workflow guidance (#2310)\n    54â†’\n    55â†’### ğŸ”§ Development\n    56â†’- **Build**: Added .worktrees to .gitignore for improved Git worktree support (#2311)\n    57â†’- **Claude Integration**: Added comprehensive permissions configuration and skill documentation for streamlined AI-assisted development (#2311, #2310)\n    58â†’\n    59â†’## [0.12.0] - 2026-01-01\n    60â†’\n    61â†’### âœ¨ New Features\n    62â†’- **@cartridge/controller**: Added dynamic `signupOptions` to `connect()` method, enabling developers to override constructor configuration per connection and create multiple branded authentication flows (e.g., \"Login with Phantom\", \"Login with Google\") using a single Controller instance (#2298)\n    63â†’- **@cartridge/keychain**: Added wallet selection drawer for onchain checkout, replacing navigation-based flow with inline slide-up drawer for more seamless UX (#2294)\n    64â†’- **@cartridge/keychain**: Added Coinbase onramp integration with `useCoinbase` hook for order creation, transaction queries, and requirement checks with automatic client IP detection (#2296)\n    65â†’- **@cartridge/keychain**: Added support for additional payment tokens in starterpack metadata, allowing creators to specify custom payment options beyond default ETH, STRK, and USDC (#2292)\n    66â†’\n    67â†’### ğŸš€ Improvements  \n    68â†’- **@cartridge/controller**: Enhanced paymaster error handling with graceful fallback to user-pays flow when paymaster is unavailable due to rate limits, execution timing, or other conditions (#2291)\n    69â†’- **@cartridge/keychain**: Improved authentication flows with branded button text for single-signer configurations and configurable signup authentication methods (#2290)\n    70â†’- **@cartridge/keychain**: Enhanced session management by restoring wildcard session creation during login flows for better user experience (#2302, #637faa12)\n    71â†’- **@cartridge/keychain**: Updated Ekubo integration to use new chain ID-based API format for improved swap functionality (#2287)\n    72â†’- **@cartridge/keychain**: Improved session footer styling with proper padding and button text updates from \"Create Session\" to \"Continue\" (#2274)\n    73â†’\n    74â†’### ğŸ› Bug Fixes\n    75â†’- **@cartridge/controller**: Restored `propagateSessionErrors` functionality for contract execution, ensuring errors are properly propagated back to callers instead of showing manual approval modal when enabled (#2305)\n    76â†’- **@cartridge/keychain**: Fixed starterpack loading flicker by showing proper loading states during loading/onchain/preimage states (#2297)\n    77â†’- **@cartridge/keychain**: Fixed collection pagination issues for better user experience (#2301)\n    78â†’- **@cartridge/keychain**: Fixed session management by reverting and then restoring wildcard session creation during register session login for optimal user flow (#2299, #2302)\n    79â†’- **@cartridge/keychain**: Fixed Ekubo API CORS issues by specifying proper CORS headers and credentials handling (#2288)\n    80â†’\n    81â†’### ğŸ“¦ Dependencies\n    82â†’- **@cartridge/ui**: Updated to latest commits for improved design consistency and React 19 peer dependency support (#2295, #2260)\n    83â†’\n    84â†’## [0.11.4-alpha.1] - 2025-12-31\n    85â†’\n    86â†’### âœ¨ New Features\n    87â†’- **@cartridge/controller**: Added dynamic `signupOptions` to `connect()` method, enabling developers to override constructor configuration per connection and create multiple branded authentication flows (e.g., \"Login with Phantom\", \"Login with Google\") using a single Controller instance (#2298)\n    88â†’- **@cartridge/keychain**: Added wallet selection drawer for onchain checkout, replacing navigation-based flow with inline slide-up drawer for more seamless UX (#2294)\n    89â†’- **@cartridge/keychain**: Added Coinbase onramp integration with `useCoinbase` hook for order creation, transaction queries, and requirement checks with automatic client IP detection (#2296)\n    90â†’- **@cartridge/keychain**: Added support for additional payment tokens in starterpack metadata, allowing creators to specify custom payment options beyond default ETH, STRK, and USDC (#2292)\n    91â†’\n    92â†’### ğŸš€ Improvements  \n    93â†’- **@cartridge/controller**: Enhanced paymaster error handling with graceful fallback to user-pays flow when paymaster is unavailable due to rate limits, execution timing, or other conditions (#2291)\n    94â†’- **@cartridge/keychain**: Improved authentication flows with branded button text for single-signer configurations and configurable signup authentication methods (#2290, #1b4423c3)\n    95â†’- **@cartridge/keychain**: Enhanced session management by restoring wildcard session creation during login flows for better user experience (#2302, #637faa12)\n    96â†’- **@cartridge/keychain**: Updated Ekubo integration to use new chain ID-based API format for improved swap functionality (#2287)\n    97â†’- **@cartridge/keychain**: Improved session footer styling with proper padding and button text updates from \"Create Session\" to \"Continue\" (#2274)\n    98â†’\n    99â†’### ğŸ› Bug Fixes\n   100â†’- **@cartridge/controller**: Restored `propagateSessionErrors` functionality for contract execution, ensuring errors are properly propagated back to callers instead of showing manual approval modal when enabled (#2305)\n   101â†’- **@cartridge/keychain**: Fixed starterpack loading flicker by showing proper loading states during loading/onchain/preimage states (#2297)\n   102â†’- **@cartridge/keychain**: Fixed collection pagination issues for better user experience (#2301)\n   103â†’- **@cartridge/keychain**: Fixed controlled Select component warnings in cost breakdown by using proper value handling (#2294)\n   104â†’- **@cartridge/keychain**: Fixed Ekubo API CORS issues by specifying proper CORS headers and credentials handling (#2288)\n   105â†’\n   106â†’### ğŸ”§ Refactoring\n   107â†’- **Development**: Multiple UI component updates and dependency management improvements (#2295, #2260)\n   108â†’- **@cartridge/keychain**: Simplified authentication flows by removing complex route-based session skipping logic in favor of consistent wildcard session creation (#2286, #2285)\n   109â†’\n   110â†’### ğŸ“¦ Dependencies\n   111â†’- **@cartridge/ui**: Updated to latest commits for improved design consistency and React 19 peer dependency support\n   112â†’\n   113â†’## [0.11.3] - 2025-12-10\n   114â†’\n   115â†’### âœ¨ New Features\n   116â†’- **@cartridge/keychain**: Added Layerswap cross-chain deposit integration for onchain checkout with balance checks, bridging actions, and UI for conversion/liquidity errors (#2273)\n   117â†’- **@cartridge/controller**: Added Phantom EVM wallet authentication method extending EthereumWalletBase, enabling login and signup with Phantom's EVM-compatible mode (#2278)\n   118â†’- **@cartridge/controller**: Added toast notification API with ToastType and ToastOptions interfaces, enabling toast creation from the controller SDK (#2265)\n   119â†’- **@cartridge/keychain**: Added quests functionality for enhanced gaming features (#2280)\n   120â†’\n   121â†’### ğŸš€ Improvements  \n   122â†’- **@cartridge/keychain**: Enhanced onchain purchase flow with multi-network wallet selection, improved cost breakdown displaying Layerswap fees, and streamlined navigation (#2273)\n   123â†’- **@cartridge/keychain**: Improved purchase context architecture by splitting into flow-specific contexts (StarterpackContext, OnchainPurchaseContext, CreditPurchaseContext) for better maintainability (#2270)\n   124â†’- **@cartridge/keychain**: Enhanced authentication flows to skip wildcard session creation during register session login, reducing friction from two signatures to one (#2275)\n   125â†’- **@cartridge/keychain**: Reverted controller iframe dismiss behavior to prevent accidental closure when clicking outside (#2277)\n   126â†’\n   127â†’### ğŸ› Bug Fixes\n   128â†’- **@cartridge/keychain**: Fixed network selection flicker by adding detection state to suppress empty UI while detecting external wallets (#2272)\n   129â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch errors by clearing cached Auth0 tokens before nonce generation, ensuring fresh tokens with correct nonces (#2271)\n   130â†’- **@cartridge/controller**: Added payment permission to iframe allow attribute for proper Stripe Payment Request API access, enabling Apple Pay and Google Pay support (#2269)\n   131â†’- **@cartridge/keychain**: Reduced Ekubo API console noise by removing verbose 429 logging and adjusting retry/backoff configurations for better rate limit handling (#2268)\n   132â†’\n   133â†’### ğŸ”§ Refactoring\n   134â†’- **Development**: Removed build:compat infrastructure and associated dependencies, simplifying build configuration across packages (#2279)\n   135â†’\n   136â†’## [0.11.3-alpha.2] - 2025-12-10\n   137â†’\n   138â†’### âœ¨ New Features\n   139â†’- **@cartridge/keychain**: Added Layerswap cross-chain deposit integration for onchain checkout with balance checks, bridging actions, and UI for conversion/liquidity errors (#2273)\n   140â†’- **@cartridge/controller**: Added Phantom EVM wallet authentication method extending EthereumWalletBase, enabling login and signup with Phantom's EVM-compatible mode (#2278)\n   141â†’- **@cartridge/controller**: Added toast notification API with ToastType and ToastOptions interfaces, enabling toast creation from the controller SDK (#2265)\n   142â†’- **@cartridge/keychain**: Added quests functionality for enhanced gaming features (#2280)\n   143â†’\n   144â†’### ğŸš€ Improvements  \n   145â†’- **@cartridge/keychain**: Enhanced onchain purchase flow with multi-network wallet selection, improved cost breakdown displaying Layerswap fees, and streamlined navigation (#2273)\n   146â†’- **@cartridge/keychain**: Improved purchase context architecture by splitting into flow-specific contexts (StarterpackContext, OnchainPurchaseContext, CreditPurchaseContext) for better maintainability (#2270)\n   147â†’- **@cartridge/keychain**: Enhanced authentication flows to skip wildcard session creation during register session login, reducing friction from two signatures to one (#2275)\n   148â†’- **@cartridge/keychain**: Reverted controller iframe dismiss behavior to prevent accidental closure when clicking outside (#2277)\n   149â†’\n   150â†’### ğŸ› Bug Fixes\n   151â†’- **@cartridge/keychain**: Fixed network selection flicker by adding detection state to suppress empty UI while detecting external wallets (#2272)\n   152â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch errors by clearing cached Auth0 tokens before nonce generation, ensuring fresh tokens with correct nonces (#2271)\n   153â†’- **@cartridge/controller**: Added payment permission to iframe allow attribute for proper Stripe Payment Request API access, enabling Apple Pay and Google Pay support (#2269)\n   154â†’- **@cartridge/keychain**: Reduced Ekubo API console noise by removing verbose 429 logging and adjusting retry/backoff configurations for better rate limit handling (#2268)\n   155â†’\n   156â†’### ğŸ”§ Refactoring\n   157â†’- **Development**: Removed build:compat infrastructure and associated dependencies, simplifying build configuration across packages (#2279)\n   158â†’\n   159â†’## [0.11.3-alpha.1] - 2025-12-01\n   160â†’\n   161â†’### âœ¨ New Features\n   162â†’- **@cartridge/keychain**: Added DevConnect booster pack claim integration with Merkle claim functionality, enabling users to claim DevConnect rewards through preimage-derived EVM addresses (#2249)\n   163â†’- **@cartridge/keychain**: Streamlined onchain starterpack purchase flow with direct checkout navigation, removing intermediate screens and defaulting to controller wallet for faster transactions (#2200)\n   164â†’- **@cartridge/keychain**: Added horizontal carousel for booster pack cards on mobile devices, providing swipeable navigation and improved touch experience (#2253)\n   165â†’- **@cartridge/keychain**: Added localStorage availability check for booster packs to ensure proper functionality across different environments (#2259)\n   166â†’- **@cartridge/keychain**: Added tournament game links integration for enhanced gaming navigation (#2252)\n   167â†’- **@cartridge/keychain**: Implemented token IDs retrieval from claim transactions for better transaction tracking (#2255)\n   168â†’\n   169â†’### ğŸš€ Improvements  \n   170â†’- **@cartridge/keychain**: Simplified redirect logic in ConnectRoute for more streamlined authentication flows (#2248)\n   171â†’- **@cartridge/keychain**: Enhanced claim interactions for mystery assets with improved user feedback (#2257)\n   172â†’- **@cartridge/keychain**: Restored claim call functionality for improved transaction processing (#2254)\n   173â†’\n   174â†’### ğŸ› Bug Fixes\n   175â†’- **@cartridge/controller**: Fixed iframe local network access by adding `local-network-access *` to iframe allow attribute, enabling proper local development (#2266)\n   176â†’- **@cartridge/keychain**: Fixed merkle claim UI stuck issue preventing users from completing claim flows (#2261)\n   177â†’- **@cartridge/keychain**: Fixed token icon retrieval from presets for consistent token display (#2258)\n   178â†’- **@cartridge/keychain**: Added redirect URL support for WebAuthn authentication, improving authentication flow reliability (#2250)\n   179â†’- **@cartridge/keychain**: Fixed Turnkey popup navigation to keychain for better authentication routing (#2247)\n   180â†’- **@cartridge/keychain**: Updated ConnectRoute tests to match simplified redirect logic for improved test reliability (#2263)\n   181â†’- **@cartridge/keychain**: Fixed input format issues for better form validation (#2251)\n   182â†’- **@cartridge/keychain**: Fixed event parsing to only handle mystery item events properly (#2256)\n   183â†’\n   184â†’## [0.11.2] - 2025-11-14\n   185â†’\n   186â†’### âœ¨ New Features\n   187â†’- **@cartridge/keychain**: Implemented encrypted localStorage snapshot for Storage Access API using split-key encryption architecture, eliminating Cookie Store API dependency and enabling secure state transfer across third-party iframe boundaries (#2239)\n   188â†’\n   189â†’### ğŸš€ Improvements  \n   190â†’- **@cartridge/keychain**: Enhanced iOS popup reliability with retry logic, exponential backoff, and stability checks for improved authentication flow on iOS devices (#2244)\n   191â†’- **@cartridge/keychain**: Updated booster pack claim flow with improved component structure and better user experience (#2240)\n   192â†’- **@cartridge/keychain**: Enhanced debug logging with comprehensive Turnkey authentication logs for better troubleshooting (#2241)\n   193â†’\n   194â†’### ğŸ› Bug Fixes\n   195â†’- **@cartridge/keychain**: Fixed popup error handling by preventing thrown errors on blocked popups, maintaining original flow behavior for mobile compatibility (#2243)\n   196â†’- **@cartridge/keychain**: Reverted popup error logging to address reliability issues and maintain stable authentication flows (#2242, #2238)\n   197â†’- **@cartridge/keychain**: Fixed claim pill size display issues for better visual consistency (#2226)\n   198â†’- **@cartridge/keychain**: Fixed default image handling bug in booster pack components (#2225)\n   199â†’- **@cartridge/keychain**: Updated game links for improved navigation and user experience (#2224)\n   200â†’- **@cartridge/keychain**: Enhanced dynamic height CSS for better responsive design (#2233)\n   201â†’- **@cartridge/keychain**: Improved localStorage and dead-path cookie synchronization for standalone flows (#2232)\n   202â†’- **@cartridge/keychain**: Removed deprecated controller_redirect functionality to streamline authentication flows (#2230)\n   203â†’- **@cartridge/keychain**: Simplified storage access request logic for more reliable cross-domain authentication (#2229)\n   204â†’- **@cartridge/controller**: Refactored session creation to load controller from store for improved session management (#2228)\n   205â†’- **Development**: Fixed environment variable loading for live environment configuration (#2227)\n   206â†’\n   207â†’### ğŸ“¦ Dependencies\n   208â†’- **Development**: Added Storybook story for StandaloneConnect component for improved component testing and documentation (#2231)\n   209â†’\n   210â†’## [0.11.2-alpha.4] - 2025-11-13\n   211â†’\n   212â†’### âœ¨ New Features\n   213â†’- **@cartridge/keychain**: Added booster pack claim page for DevConnect rewards, enabling users to claim credits, tokens, and NFTs using private keys from reward URLs with comprehensive signature validation and post-claim actions (#2160)\n   214â†’\n   215â†’### ğŸš€ Improvements  \n   216â†’- **@cartridge/controller**: Refactored session architecture to move app_id from account constructors to session-specific operations, enabling a single shared controller instance to serve multiple applications through app-specific sessions (#2220)\n   217â†’\n   218â†’### ğŸ› Bug Fixes\n   219â†’- **@cartridge/controller**: Fixed standalone authentication flow storage access issues by adding debug logging for redirect detection, updating StandaloneConnect UI with generic permission messages, and removing pre-authenticated account display for improved security and clarity (#2217)\n   220â†’\n   221â†’### ğŸ“¦ Dependencies\n   222â†’- **@cartridge/ui**: Updated to commit df8934d for improved design consistency and functionality (#2218)\n   223â†’\n   224â†’## [0.11.2-alpha.3] - 2025-11-12\n   225â†’\n   226â†’### âœ¨ New Features\n   227â†’- **@cartridge/controller**: Added `signupOptions` support to SessionProvider, enabling developers to configure which authentication methods (Google, Discord, MetaMask, etc.) are available during session creation and bringing SessionProvider feature parity with ControllerProvider (#2219)\n   228â†’\n   229â†’## [0.11.2-alpha.2] - 2025-11-11\n   230â†’\n   231â†’### ğŸš€ Improvements\n   232â†’- **@cartridge/controller**: Refactored `openStarterPack` method signature to accept an options object instead of direct parameters, making the API more extensible for future additions (#2213)\n   233â†’\n   234â†’### ğŸ› Bug Fixes\n   235â†’- **@cartridge/controller**: Fixed standalone auth flow storage access by implementing dedicated `controller_storage_ready` parameter for redirect detection and automatic Storage Access API requests, enabling seamless cross-domain authentication flow (#2212)\n   236â†’- **@cartridge/keychain**: Reverted Turnkey nonce mismatch fix to address reliability issues (#2215)\n   237â†’\n   238â†’## [0.11.2-alpha.1] - 2025-11-11\n   239â†’\n   240â†’### âœ¨ New Features\n   241â†’- **@cartridge/keychain**: Added Ethereum preimage signing for Merkle claims, enabling users to claim tokens using a preimage when external wallets are not available or preferred (#2185)\n   242â†’\n   243â†’### ğŸš€ Improvements  \n   244â†’- **@cartridge/controller**: Refactored `openStarterPack` method signature to accept an options object instead of direct parameters, making the API more extensible for future additions (#2213)\n   245â†’- **@cartridge/keychain**: Simplified game redirect URLs in PlayButton component to use cleaner parameter format with direct game URLs (#2209)\n   246â†’- **Development**: Disabled Vite visualizer auto-open in production builds to streamline the build process (#2211)\n   247â†’- **Examples**: Added Nums game integration to the PlayButton component with appropriate redirect and preset configuration (#2206)\n   248â†’\n   249â†’### ğŸ› Bug Fixes\n   250â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch by persisting nonce in localStorage across Auth0 redirects, resolving iframe recreation issues during the authentication flow (#2210)\n   251â†’\n   252â†’### ğŸ“¦ Dependencies\n   253â†’- **@cartridge/controller-wasm**: Updated to version 0.3.17 for improved functionality (#2207)\n   254â†’\n   255â†’## [0.11.0] - 2025-11-10\n   256â†’\n   257â†’### âœ¨ New Features\n   258â†’- **@cartridge/controller**: Added controller_redirect parameter for standalone flow, enabling automatic redirect to keychain for first-party storage access with preset support (#2192)\n   259â†’- **@cartridge/keychain**: Added Layerswap deposit support for starterpack purchases, replacing backend purchase flow with more flexible deposit-based approach (#2194)\n   260â†’- **@cartridge/keychain**: Added transaction hash display on success screen for onchain purchases, improving transaction transparency and user feedback (#2186)\n   261â†’- **@cartridge/keychain**: Added balance_of fallback and enhanced error handling for token balance checks, improving reliability of token balance queries (#2178)\n   262â†’- **Development**: Added conductor.json workspace configuration for improved development workflow (#2195)\n   263â†’\n   264â†’### ğŸš€ Improvements  \n   265â†’- **@cartridge/keychain**: Refactored starterpack architecture to separate claim and onchain flows with clearer terminology - \"backend\" starterpacks renamed to \"claimed\" starterpacks for better clarity (#2199)\n   266â†’- **@cartridge/keychain**: Enhanced standalone flow with automatic connector detection from redirect flow, improving user experience (#2189)\n   267â†’- **@cartridge/keychain**: Improved mobile detection logic for better cross-platform compatibility (#2175)\n   268â†’- **@cartridge/keychain**: Redesigned starterpack receiving and success screens for improved user experience (#2183)\n   269â†’- **@cartridge/keychain**: Enhanced transaction cancellation handling when navigating back from transaction flows (#2180)\n   270â†’\n   271â†’### ğŸ› Bug Fixes\n   272â†’- **@cartridge/keychain**: Fixed torii token configuration for improved token handling (#2201)\n   273â†’- **@cartridge/keychain**: Fixed session auto-creation redirect timing in standalone authentication flow (#2196)\n   274â†’- **@cartridge/keychain**: Fixed preset verification in standalone flow for more reliable preset validation (#2191)\n   275â†’- **@cartridge/keychain**: Fixed URL search parameter preservation in connect route to maintain state during navigation (#2188)\n   276â†’- **@cartridge/keychain**: Fixed achievement display issues for better user profile experience (#2181)\n   277â†’\n   278â†’### ğŸ”§ Refactoring\n   279â†’- **@cartridge/controller**: Removed unused onAuthenticationSuccess callback to streamline authentication flow (#2197)\n   280â†’- **@cartridge/keychain**: Deprecated CryptoCheckout component in favor of new Layerswap deposit approach (#2194)\n   281â†’\n   282â†’### ğŸ“¦ Dependencies\n   283â†’- **@cartridge/ui**: Updated to latest version for improved design consistency (#2190, #2182)\n   284â†’\n   285â†’## [0.10.7] - 2025-10-01\n   286â†’\n   287â†’### âœ¨ New Features\n   288â†’- **@cartridge/controller**: Added async/await pattern for controller initialization, providing better error handling and improved developer experience (#2070)\n   289â†’- **@cartridge/keychain**: Added disconnect redirect URL support for session provider, enabling better session management and app navigation (#2074)\n   290â†’\n   291â†’### ğŸš€ Improvements  \n   292â†’- **@cartridge/keychain**: Removed deprecated layout style overrides across components for cleaner UI rendering (#2040)\n   293â†’- **@cartridge/keychain**: Extracted keychain URL logic into dedicated function for better code organization and maintainability (#2071)\n   294â†’- **@cartridge/keychain**: Enhanced bottom navigation to preserve query parameters during navigation (#2072)\n   295â†’- **@cartridge/keychain**: Improved token sorting in ERC20 lists for better user experience (#2083)\n   296â†’- **Development**: Enforced React hook dependencies for improved code quality (#2065)\n   297â†’\n   298â†’### ğŸ› Bug Fixes\n   299â†’- **@cartridge/controller**: Fixed Ethereum wallet availability on mobile browsers by adding mobile detection to prevent unsupported wallet initialization (#2076)\n   300â†’- **@cartridge/keychain**: Fixed BigInt serialization errors in execute URL parameters by adding proper JSON serialization handling (#2084)\n   301â†’- **@cartridge/keychain**: Resolved circular dependency and BigInt handling issues in starterpack components (#2085)\n   302â†’- **@cartridge/keychain**: Fixed starterpack crypto cost breakdown display for accurate pricing information (#2081)\n   303â†’- **@cartridge/keychain**: Fixed controller loading state management for smoother user experience (#2078)\n   304â†’- **@cartridge/keychain**: Fixed authentication method types for improved type safety (#2073)\n   305â†’- **@cartridge/keychain**: Fixed inventory display issues and asset collection rendering (#2069, #2068)\n   306â†’\n   307â†’### ğŸ“¦ Dependencies\n   308â†’- **@cartridge/presets**: Updated to latest version for improved functionality (#2077)\n   309â†’\n   310â†’## [0.10.6] - 2025-09-26\n   311â†’\n   312â†’### âœ¨ New Features\n   313â†’- **@cartridge/keychain**: Added marketplace integration with consolidated arcade provider functionality, streamlining marketplace operations and improving the gaming marketplace experience (#2063)\n   314â†’- **@cartridge/keychain**: Added disconnect page with redirect deeplink support, enabling better session management and seamless app navigation (#2056)\n   315â†’- **@cartridge/keychain**: Implemented dynamic RPC URL override support for enhanced flexibility in network configuration, allowing developers to specify custom RPC endpoints dynamically (#2052)\n   316â†’\n   317â†’### ğŸš€ Improvements  \n   318â†’- **@cartridge/controller**: Enhanced Android native flow session provider with improved error handling and better session management reliability (#2066)\n   319â†’\n   320â†’### ğŸ› Bug Fixes\n   321â†’- **@cartridge/keychain**: Fixed purchase flow to use correct network icon, ensuring users see the appropriate network indicator during transactions (#2055)\n   322â†’- **@cartridge/keychain**: Fixed verified session creation to improve session validation and authentication flow reliability (#2062)\n   323â†’- **@cartridge/keychain**: Fixed game theme functionality for better theming consistency across gaming applications (#2050)\n   324â†’\n   325â†’### ğŸ“¦ Dependencies\n   326â†’- **Dojo**: Updated to latest version for improved gaming framework functionality (#2057)\n   327â†’\n   328â†’## [0.10.5] - 2025-09-20\n   329â†’\n   330â†’### ğŸ› Bug Fixes\n   331â†’- **@cartridge/controller**: Fixed session key GUID registration by adding proper signerToGuid generation and debug logging to SessionAccount constructor, ensuring proper session registration for Node.js provider (#2047)\n   332â†’- **@cartridge/keychain**: Fixed USDC payment type box visibility on Starter Pack pages by removing redundant USDC denomination badge from cost breakdown display (#2046)\n   333â†’- **@cartridge/keychain**: Fixed claim wallet detection to properly identify available wallets during claiming process, improving wallet selection reliability (#2045)\n   334â†’- **@cartridge/keychain**: Fixed starter pack UI by removing unintentional hover states from non-selectable starter items and hiding unnecessary icons in starter pack page header (#2026)\n   335â†’\n   336â†’## [0.10.4] - 2025-09-18\n   337â†’\n   338â†’### âœ¨ New Features\n   339â†’- **@cartridge/keychain**: Added cookie-based authentication for already connected accounts, improving user experience by maintaining login state across sessions (#2039)\n   340â†’\n   341â†’### ğŸ› Bug Fixes\n   342â†’- **@cartridge/controller**: Fixed external wallet availability detection to handle cases where StarkNet window objects are not immediately available on initialization, ensuring reliable StarkNet wallet detection (#2043)\n   343â†’\n   344â†’## [0.10.3] - 2025-09-17\n   345â†’\n   346â†’### âœ¨ New Features\n   347â†’- **@cartridge/keychain**: Added native social login functionality, enabling seamless authentication in native applications (#2010)\n   348â†’- **@cartridge/keychain**: Implemented robust retry logic with exponential backoff for transaction waiting operations, improving reliability for both external wallet and StarkNet transactions (#2032)\n   349â†’- **@cartridge/keychain**: Enhanced starter pack and cost breakdown UI with improved tooltips, verified/unverified edition support, and better item display (#1982)\n   350â†’\n   351â†’### ğŸš€ Improvements  \n   352â†’- **@cartridge/keychain**: Migrated all explorer URLs from StarkScan to Cartridge Explorer for consistent block exploration experience (#1883)\n   353â†’- **@cartridge/controller**: Improved nested execution error parsing to extract meaningful error messages from deeply nested JSON-RPC responses, showing specific contract errors instead of generic messages (#2033)\n   354â†’- **@cartridge/keychain**: Enhanced RPC error display in ExecutionContainer to show clean error descriptions instead of full JSON responses (#2023)\n   355â†’- **@cartridge/keychain**: Improved token ordering and balance handling for better user experience (#2029, #2024)\n   356â†’- **Dependencies**: Updated presets package and various UI components for improved functionality\n   357â†’\n   358â†’### ğŸ› Bug Fixes\n   359â†’- **@cartridge/keychain**: Fixed social authentication redirect URL handling for improved login reliability (#2035)\n   360â†’- **@cartridge/keychain**: Added comprehensive error handling to claim operations to prevent silent failures (#2030)\n   361â†’- **@cartridge/keychain**: Fixed cost component display to only show for paid starter packs, removing confusing cost breakdown from free claims (#2025)\n   362â†’- **@cartridge/keychain**: Fixed various UI regressions including useEffect dependencies, wallet integration, and controller creation flows (#2028, #2027)\n   363â†’- **@cartridge/keychain**: Fixed token balance display issues for accounts with no prior interactions (#2024)\n   364â†’- **@cartridge/keychain**: Resolved minor asset display issues in collection components (#2019)\n   365â†’- **@cartridge/keychain**: Fixed total claimable amount calculation (#2018)\n   366â†’\n   367â†’### ğŸ“¦ Dependencies\n   368â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality\n   369â†’- **controller-rs**: Updated to latest version for enhanced backend functionality\n   370â†’- **Various**: Updated workspace dependencies and lockfile maintenance\n   371â†’\n   372â†’## [0.10.2] - 2025-09-11\n   373â†’\n   374â†’### âœ¨ New Features\n   375â†’- **@cartridge/keychain**: Added environment-based configuration for merkle drop contracts enabling flexible contract deployment across different environments (#2008)\n   376â†’\n   377â†’### ğŸš€ Improvements  \n   378â†’- **@cartridge/keychain**: Migrated 6 transaction flows to use ExecutionContainer for direct execution, eliminating page redirects and providing inline transaction confirmation for improved UX (#2005)\n   379â†’- **@cartridge/keychain**: Enhanced session update prompting logic with better validation and synchronous rendering for improved transaction flow performance (#2007)\n   380â†’- **Examples**: Cleaned up Next.js example Profile component by removing collection-related buttons (#2011)\n   381â†’\n   382â†’### ğŸ› Bug Fixes\n   383â†’- **@cartridge/controller**: Fixed chain switching to always execute on request, ensuring reliable network changes (#2014)\n   384â†’- **@cartridge/keychain**: Fixed login validation to prevent authentication before controller username validation is complete (#2012)\n   385â†’- **@cartridge/keychain**: Fixed session creation flash issues for smoother session management (#2009)\n   386â†’- **@cartridge/keychain**: Fixed Braavos wallet chain switching by adding proper skip logic (#2006)\n   387â†’- **@cartridge/keychain**: Fixed merkle drop claim interface to properly display claim amounts (#2004)\n   388â†’\n   389â†’## [0.10.1] - 2025-09-10\n   390â†’\n   391â†’### âœ¨ New Features\n   392â†’- **@cartridge/keychain**: Added StarkNet wallets account changed listener for improved wallet integration and event handling (#1999)\n   393â†’- **@cartridge/keychain**: Enhanced claim UI to display connected wallet address for better user transparency (#2000)\n   394â†’- **@cartridge/keychain**: Added starterpack ID input support to example application for easier testing and development (#1998)\n   395â†’- **@cartridge/keychain**: Implemented merkle drop StarkNet claim signature verification for enhanced security (#1993)\n   396â†’- **@cartridge/keychain**: Added merkle-drop wallet selection with controller integration for streamlined claiming process (#1986)\n   397â†’- **@cartridge/controller**: Added outsideExecution support to StarterPack API for improved transaction handling (#1972)\n   398â†’- **@cartridge/controller**: Migrated collection listing to use ExecutionContainer for direct execution, improving performance (#2002)\n   399â†’\n   400â†’### ğŸš€ Improvements  \n   401â†’- **@cartridge/controller**: Enhanced fee estimation by scaling resource bounds by 1.5x for more reliable transaction processing (#1978)\n   402â†’- **@cartridge/keychain**: Restricted token support to only USDC, ETH, LORDS and STRK tokens for improved security and user experience (#1996)\n   403â†’- **Development**: Added dev:live scripts for production API testing to streamline development workflow (#2001)\n   404â†’\n   405â†’### ğŸ› Bug Fixes\n   406â†’- **@cartridge/controller**: Fixed controller crash after purchase to ensure stable operation (#1997)\n   407â†’- **@cartridge/keychain**: Resolved inventory assets disappearing after tab navigation (#1990)\n   408â†’- **@cartridge/keychain**: Fixed navigation stack reset issues in collection components (#1995)\n   409â†’- **@cartridge/keychain**: Fixed loot box image display issues (#1991)\n   410â†’- **@cartridge/keychain**: Resolved inventory view problems after purchase completion (#1989)\n   411â†’- **@cartridge/keychain**: Fixed token page empty state display (#1988)\n   412â†’\n   413â†’### ğŸ“¦ Dependencies\n   414â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#1994, #1992)\n   415â†’\n   416â†’## [0.10.0] - 2025-09-03\n   417â†’\n   418â†’### âœ¨ New Features\n   419â†’- **@cartridge/keychain**: Added starterpack claim merkle drop functionality, enabling efficient and secure starterpack distribution through merkle tree verification (#1928)\n   420â†’- **@cartridge/controller**: Re-implemented controller creation factory pattern for improved instantiation and configuration management (#1956)\n   421â†’- **@cartridge/keychain**: Removed feature flag for signers functionality, making multi-signer support generally available (#1961)\n   422â†’\n   423â†’### ğŸš€ Improvements  \n   424â†’- **Bundle Size**: Massive bundle size reduction through multiple optimizations:\n   425â†’  - Migrated from `@solana/web3.js` to lightweight `micro-sol-signer` library, reducing Solana-related code by ~450KB (#1951)\n   426â†’  - Removed MetaMask SDK dependency and migrated Ethereum wallets to shared EIP-6963 base class, saving several MB (#1950)\n   427â†’  - Replaced lodash dependency with custom utilities, eliminating unnecessary library weight (#1960)\n   428â†’- **@cartridge/keychain**: Enhanced error parsing with improved test coverage for \"Not active\" and ENTRYPOINT_NOT_FOUND cases (#1958, #1957)\n   429â†’- **@cartridge/keychain**: Improved nested error handling for better debugging and user experience (#1949)\n   430â†’- **@cartridge/controller**: Removed unreliable original signer checks for more robust signer management (#1952)\n   431â†’\n   432â†’### ğŸ› Bug Fixes\n   433â†’- **@cartridge/keychain**: Fixed client fee calculation for ERC721 transactions (#1955)\n   434â†’- **@cartridge/keychain**: Temporarily disabled Solana credits purchase due to reliability issues (#1948)\n   435â†’\n   436â†’### âš ï¸ Breaking Changes\n   437â†’- **StarkNet Dependencies**: Upgraded to StarkNet v8 with updated WalletAccount constructor API. Applications using WalletAccount directly may need to update from argument-based to object-based constructor parameters (#1939)\n   438â†’- **Ethereum Wallet Integration**: Removed MetaMask SDK in favor of EIP-6963 standard wallet detection. Applications relying on MetaMask SDK-specific features may need updates (#1950)\n   439â†’- **Dependencies**: Removed lodash dependency - any direct usage of lodash utilities from this package will need replacement (#1960)\n   440â†’\n   441â†’### ğŸ“¦ Dependencies\n   442â†’- **starknet**: Updated to ^8.1.2 for improved StarkNet integration and compatibility (#1939)\n   443â†’- **@starknet-react/core**: Updated to ^5.0.1 for StarkNet v8 support (#1939)\n   444â†’- **@starknet-react/chains**: Updated to ^5.0.1 for StarkNet v8 support (#1939)\n   445â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#1959, #1953, #1947, #1945)\n   446â†’- **Dependencies Removed**: \n   447â†’  - lodash and @types/lodash (replaced with custom utilities)\n   448â†’  - @solana/web3.js and @solana/spl-token (replaced with micro-sol-signer)\n   449â†’  - @metamask/sdk (replaced with EIP-6963 standard)\n   450â†’\n   451â†’## [0.10.0-alpha.1] - 2025-08-29\n   452â†’\n   453â†’### ğŸ› Bug Fixes\n   454â†’- **@cartridge/controller**: Fixed WalletAccount constructor to properly work with starknet.js v8.5.2, ensuring compatibility with the latest StarkNet library version (#1943)\n   455â†’\n   456â†’## [0.10.0-alpha.0] - 2025-08-28\n   457â†’\n   458â†’### âœ¨ New Features\n   459â†’- **@cartridge/controller**: Added lazy load option to defer iframe mounting, improving initial page load performance and providing better control over when the controller iframe is loaded (#1934)\n   460â†’- **@cartridge/keychain**: Added fallback redirect option for social login when popup windows don't work, ensuring better compatibility across different browsers and environments (#1929)\n   461â†’- **@cartridge/controller**: Implemented StarkNet wallet switch chain and send transaction functionality, enabling seamless network switching and transaction execution with external wallets (#1927)\n   462â†’- **@cartridge/keychain**: Enabled Braavos wallet integration, expanding wallet compatibility for users (#1925)\n   463â†’- **@cartridge/keychain**: Combined payment method and network selection screens for a more streamlined user experience during transactions (#1920)\n   464â†’- **@cartridge/keychain**: Added claim starterpack UI, providing an intuitive interface for users to claim their starter packages (#1922)\n   465â†’\n   466â†’### ğŸš€ Improvements  \n   467â†’- **@cartridge/keychain**: Enhanced multicall error parsing to extract more meaningful error messages, improving debugging and user experience during transaction failures (#1923)\n   468â†’\n   469â†’### ğŸ› Bug Fixes\n   470â†’- **@cartridge/keychain**: Fixed social native login/signup issues to ensure proper authentication flow in native applications (#1937)\n   471â†’- **@cartridge/keychain**: Fixed starterpack hook functionality to ensure proper starterpack claiming and management (#1936)\n   472â†’- **@cartridge/keychain**: Fixed social login issues in native apps, improving authentication reliability (#1932)\n   473â†’- **@cartridge/controller**: Fixed issue where user cancellation of manual transactions was not properly propagated, ensuring proper event handling (#1931)\n   474â†’- **@cartridge/controller**: Fixed connection destroyed on navigate issue, preventing connection loss during page navigation (#1926)\n   475â†’- **@cartridge/keychain**: Fixed missing Base network block explorer integration (#1919)\n   476â†’- **@cartridge/controller**: Fixed handling of transaction execution errors after session updates, improving error recovery and user feedback (#1916)\n   477â†’\n   478â†’### ğŸ“¦ Dependencies\n   479â†’- **starknet.js**: Updated to version 8.5.2 for improved StarkNet integration and bug fixes (#1940)\n   480â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1938, #1933, #1930, #1921)\n   481â†’\n   482â†’## [0.9.3] - 2025-08-13\n   483â†’\n   484â†’### âœ¨ New Features\n   485â†’- **@cartridge/keychain**: Added multichain purchase flow for starterpack, enabling seamless cross-chain purchasing with improved wallet and network selection (#1868)\n   486â†’- **@cartridge/controller**: Enabled switch chain functionality for external wallets, allowing users to change networks when using external wallet connections (#1899)\n   487â†’- **@cartridge/keychain**: Added ERC1155 listing and purchase support for enhanced NFT marketplace functionality (#1873)\n   488â†’- **@cartridge/keychain**: Added remove signer functionality, allowing users to remove additional signers from their accounts (#1874)\n   489â†’\n   490â†’### ğŸš€ Improvements  \n   491â†’- **@cartridge/controller**: Separated controller and sessions queries for improved performance and better data management (#1892)\n   492â†’- **@cartridge/keychain**: Enhanced validation error display to provide clearer feedback to users during transactions and form submissions (#1877)\n   493â†’- **Development**: Added Claude Code configuration for improved development workflow and AI-assisted coding (#1885)\n   494â†’\n   495â†’### ğŸ› Bug Fixes\n   496â†’- **@cartridge/keychain**: Fixed multi-purchase ERC721 functionality by replacing window.location pattern with useLocation hook and added proper search params handling (#1897)\n   497â†’- **@cartridge/keychain**: Fixed tokens loading forever issue that prevented proper token balance and information display (#1896)\n   498â†’- **@cartridge/keychain**: Fixed ERC721 listing detection to ensure proper marketplace functionality (#1893)\n   499â†’- **@cartridge/keychain**: Fixed purchase page loading issues for better user experience during transactions (#1894)\n   500â†’- **@cartridge/keychain**: Fixed navigation reset functionality to ensure proper routing after transactions (#1880)\n   501â†’- **@cartridge/keychain**: Fixed sign message handling for boolean values to prevent signing errors (#1879)\n   502â†’- **@cartridge/keychain**: Fixed external wallet transaction failures by improving error handling and transaction processing (#1878)\n   503â†’- **@cartridge/keychain**: Fixed parameter updates for better transaction handling (#1888)\n   504â†’- **CI/CD**: Removed non-working end-to-end CI tests to improve build reliability (#1895)\n   505â†’\n   506â†’### ğŸ“¦ Dependencies\n   507â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1886, #1882, #1881)\n   508â†’\n   509â†’## [0.9.2] - 2025-07-23\n   510â†’\n   511â†’### âœ¨ New Features\n   512â†’- **@cartridge/keychain**: Added popup flow for addOwner functionality, providing a streamlined user experience for adding account signers (#1835)\n   513â†’- **@cartridge/keychain**: Merged profile functionality into keychain, consolidating user profile management, inventory, achievements, and activity tracking into a unified interface (#1837)\n   514â†’\n   515â†’### ğŸš€ Improvements  \n   516â†’- **Development**: Added compatibility Next.js example build to improve development and testing workflows (#1836)\n   517â†’\n   518â†’### ğŸ› Bug Fixes\n   519â†’- **@cartridge/keychain**: Fixed password manager detection for hidden input fields to prevent interference with browser password managers (#1848)\n   520â†’- **@cartridge/keychain**: Fixed slot routes to ensure proper navigation and routing within the slot funding flow (#1847)\n   521â†’- **@cartridge/controller**: Fixed incorrect update session request handling to improve session management reliability (#1843)\n   522â†’- **@cartridge/keychain**: Fixed Bitwarden integration flow to ensure compatibility with the Bitwarden password manager (#1840)\n   523â†’- **@cartridge/keychain**: Enhanced logging and fixed various issues for better debugging and error tracking (#1839)\n   524â†’- **@cartridge/keychain**: Fixed multiple issues related to owners and session management for improved account functionality (#1834)\n   525â†’\n   526â†’### ğŸ“¦ Dependencies\n   527â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1845, #1833, #1832, #1831)\n   528â†’\n   529â†’## [0.9.0] - 2025-07-15\n   530â†’\n   531â†’### âœ¨ New Features\n   532â†’- **@cartridge/keychain**: Added slot funding flow for teams, enabling team-based slot funding with comprehensive purchase flow integration (#1815)\n   533â†’- **@cartridge/controller**: Added multi-signer support with the ability to add additional signers to accounts (#1813)\n   534â†’- **@cartridge/keychain**: Added feature gating for add-signer functionality to control access to multi-signer features (#1821)\n   535â†’\n   536â†’### ğŸš€ Improvements  \n   537â†’- **@cartridge/keychain**: Refactored purchase flow with improved component structure and better separation of concerns (#1808)\n   538â†’- **Development**: Removed Claude code review integration to streamline development workflow (#1824)\n   539â†’\n   540â†’### ğŸ› Bug Fixes\n   541â†’- **@cartridge/keychain**: Fixed slot team selection screen display issues (#1826)\n   542â†’- **@cartridge/keychain**: Improved error messaging for better user experience (#1818)\n   543â†’- **@cartridge/keychain**: Fixed version constraint issue when adding a signer (#1817)\n   544â†’\n   545â†’### ğŸ“¦ Dependencies\n   546â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and bug fixes (#1827, #1825, #1823, #1822, #1820, #1819, #1816, #1814, #1811, #1805, #1803)\n   547â†’\n   548â†’## [0.8.0] - 2025-06-24\n   549â†’\n   550â†’### âœ¨ New Features\n   551â†’- **Session Management**: Added comprehensive session management functionality enabling secure session handling, registration, and consent flows for improved gaming UX (#1722)\n   552â†’- **Controller Interface Simplification**: Streamlined the main Controller interface with improved defaults and better developer experience (#1759)\n   553â†’\n   554â†’### ğŸš€ Improvements  \n   555â†’- **@cartridge/controller**: Refactored WalletConnect implementation in preparation for multiple signers support (#1780)\n   556â†’- **@cartridge/controller**: Improved chain precedence logic to prioritize cartridgeChains over provided chains (#1769)\n   557â†’- **CI/CD**: Enhanced release automation with GitHub releases creation (#1782) and job summaries (#1784)\n   558â†’- **CI/CD**: Added automated changelog generation workflows (#1786) and simplified release workflow (#1789)\n   559â†’- **Development**: Added Claude Code integration and workflow improvements for better collaboration (#1768, #1766)\n   560â†’\n   561â†’### ğŸ› Bug Fixes\n   562â†’- **@cartridge/profile**: Fixed decimal formatting for credits balance display (#1781)\n   563â†’- **@cartridge/controller**: Fixed Discord integration bug that occurred when no wallet session exists (#1762)\n   564â†’- **Documentation**: Resolved doc-sync injection issues and improved sync reliability (#1764, #1765)\n   565â†’- **CI/CD**: Fixed changelog generation and multi-line output issues in release workflows (#1788)\n   566â†’\n   567â†’### âš ï¸ Breaking Changes\n   568â†’- **Controller Interface**: The Controller interface has been simplified, which may require updates to existing integrations. Refer to the updated examples for migration guidance (#1759)\n   569â†’- **Session Management**: Introduction of new session management system may require updates to applications using custom session handling\n   570â†’\n   571â†’### ğŸ“¦ Dependencies\n   572â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency (#1775, #1776, #1779)\n   573â†’- **Testing**: Enhanced test infrastructure with improved mocking and CI workflows\n   574â†’- **Build**: Updated TypeScript configurations and build processes across the monorepo\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"ac75d1ea-3cd8-4b43-b6ef-f7a0c04875fd"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01DDxFahGgwWLa7LRuXpZCug","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me get more detailed information about the commits and analyze the changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":14168,"cache_read_input_tokens":16489,"cache_creation":{"ephemeral_5m_input_tokens":14168,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"568a9e41-ae81-4fb7-836c-e1e9820b35e2"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01DDxFahGgwWLa7LRuXpZCug","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018SyvAxY82qDFBw4sbA3gZ8","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"completed"},{"content":"Extract user-facing changes and categorize them","status":"in_progress"},{"content":"Read existing CHANGELOG.md format","status":"completed"},{"content":"Generate new changelog entry for 0.13.0","status":"pending"},{"content":"Update CHANGELOG.md with new entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":14168,"cache_read_input_tokens":16489,"cache_creation":{"ephemeral_5m_input_tokens":14168,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"cff440a0-570c-4c67-905c-a6d9359716ca"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018SyvAxY82qDFBw4sbA3gZ8","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"6f5b8e62-a511-46f9-bd02-6ad59d5cd91a"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_011XdfnR1LyKBqrVwQzCiBZC","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TFTs7BygCR6D3qgMdvapLs","name":"Bash","input":{"command":"git log v0.12.2..HEAD --pretty=format:\"%h %s%n%b\" --no-merges | head -200","description":"Get detailed commit messages for analysis"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":223,"cache_read_input_tokens":30657,"cache_creation":{"ephemeral_5m_input_tokens":223,"ephemeral_1h_input_tokens":0},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"66d75354-b9ed-41d7-82d4-ca7f09d3f473"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_011XdfnR1LyKBqrVwQzCiBZC","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01AfDf3L5bAFw11MHi3zQ9rM","name":"Bash","input":{"command":"git tag --sort=-version:refname | head -5","description":"Check recent version tags"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":223,"cache_read_input_tokens":30657,"cache_creation":{"ephemeral_5m_input_tokens":223,"ephemeral_1h_input_tokens":0},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"97f86e09-dc2f-48ed-881f-b4b120b0b19f"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TFTs7BygCR6D3qgMdvapLs","type":"tool_result","content":"0b3729b9 fix: add agent mode to claude-code-action for workflow_dispatch\nThe claude-code-action@beta now requires mode: agent for non-PR/issue\nevents like workflow_dispatch.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\n\nc79e6ce2 feat: migrate npm publish to OIDC authentication (#2381)\n## Summary\n- Replace `NPM_TOKEN` secret with GitHub Actions OIDC for npm publishing\nin the release workflow\n- Add `permissions: id-token: write` to enable OIDC token generation\n- Remove `NODE_AUTH_TOKEN` env vars from publish steps\n- Add `--provenance` flag to publish commands for supply chain\nattestation\n\n## Prerequisites\nBefore merging, configure **trusted publishers** on npmjs.com for both\npackages:\n1. Go to https://www.npmjs.com/package/@cartridge/controller/access â†’\n\"Configure Trusted Publishers\"\n2. Go to https://www.npmjs.com/package/@cartridge/connector/access â†’\n\"Configure Trusted Publishers\"\n3. Set repository to `cartridge-gg/controller` and workflow to\n`release.yml`\n\nAfter this is configured, the `NPM_TOKEN` secret can be removed from the\nrepository settings.\n\n## Test plan\n- [ ] Configure trusted publishers on npm for both\n`@cartridge/controller` and `@cartridge/connector`\n- [ ] Trigger a test release to verify OIDC authentication works\n- [ ] Verify provenance attestation appears on npm package pages\n- [ ] Remove `NPM_TOKEN` secret from repository settings after\nsuccessful publish\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\n---------\n\nCo-authored-by: Claude Opus 4.6 <noreply@anthropic.com>\n2c879ec4 fix: inline changelog generation into release-dispatch (#2379)\n## Summary\n\n- Fixes a race condition where the `changelog-generation` workflow\npushed a second commit to release PRs after CI checks had already\nstarted on the first commit, leaving required status checks (`ts-lint`,\n`ts`, `storybook`) permanently pending\n- Moves changelog generation into `release-dispatch` before PR creation\nso `peter-evans/create-pull-request` includes both version bumps and\nchangelog in a single commit\n- Deletes the now-unnecessary `changelog-generation` workflow\n\n## Test plan\n\n- [ ] Run `release-dispatch` workflow and verify the PR is created with\nchangelog included in the initial commit\n- [ ] Verify all required CI checks (`ts-lint`, `ts`, `storybook`) run\nand complete on the PR\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Opus 4.6 <noreply@anthropic.com>\n0c7e6a7a Prepare release: 0.12.3 (#2378)\nAutomated changes by\n[create-pull-request](https://github.com/peter-evans/create-pull-request)\nGitHub action\n\n---------\n\nCo-authored-by: kronosapiens <kronosapiens@users.noreply.github.com>\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\nCo-authored-by: Tarrence van As <undefined@users.noreply.github.com>\n85cf71a9 feat(keychain): tighten capacitor origin verification (#2375)\nThis PR tightens the Capacitor origin verification in the Keychain to\nonly auto-verify the default 'localhost' origin. Custom Capacitor\nhostnames now require explicit authorization in the project's preset\norigins.\n\n### Changes:\n- **Keychain**: Updated to check for exact match instead of any prefix.\n- **Capacitor Example**: \n  - Updated  to use a custom hostname .\n- Updated with security guidance on custom hostnames and how to\nauthorize them in presets.\n\nThis improves security by preventing malicious Capacitor apps from\nspoofing verified origins just by using the scheme.\n9708f87a Request storage access in iframe connect flow (#2374)\n## Summary\\n- Request Storage Access API in iframe connect flow before\ncompleting connect/skip\\n- Allows third-party storage\n(cookies/localStorage) to persist across restarts in WKWebView\\n\\n##\nTesting\\n- Not run (requires device/WebView testing)\n0044542e feat: emit specialized controller toasts (#2358)\n* Emit specialized toast metadata for clients, when keychain is in an\niframe\n* Added client-only toasts to transaction execution and confirmation.\n* Emitted toasts can be used with `<ControllerToaster />` from\n`@cartridge/ui`, on Arcade and Dojo games\n* Added `<ControllerToaster />` to next.js example\n* Require keychain deployment only.\n* No changes were made to the existing keychain toasts behaviour.\n9d0280ca fix: aggregate contracts on unverified session (#2304)\nResolves C7E-1189\n\n- Aggregate methods into a single \"Approve <game>\" expendable card\n- Move it so that it appears after the session methods group\n9850cc9b Add ApprovalPolicy support to controller toWasmPolicies (#2372)\n## Summary\n\nThe controller SDK's `toWasmPolicies` function was missing\n`ApprovalPolicy` handling that exists in the keychain implementation.\nThis caused merkle root mismatches for:\n- `SessionConnector` (native/Capacitor apps)\n- `NodeProvider` (Node.js server-side)\n- `TelegramProvider` (Telegram mini-apps)\n\nWhen these connectors are used with approve policies that include\n`spender` and `amount` fields, the session registration (via keychain)\nwould create `ApprovalPolicy` objects, while session usage (via\ncontroller SDK) would create `CallPolicy` objects. This resulted in\ndifferent merkle roots and \"session/not-registered\" errors.\n\n## Changes\n\n- Add `ApprovalPolicy` handling to `packages/controller/src/utils.ts` to\nmatch keychain implementation\n- Update `SessionContracts` type in\n`packages/controller/src/policies.ts` to properly include `Approval`\nmethods\n- Add comprehensive tests for ApprovalPolicy handling\n\n## Test plan\n\n- [x] New tests verify ApprovalPolicy is created for approve methods\nwith spender/amount\n- [x] Tests verify fallback to CallPolicy (with deprecation warning) for\nlegacy approve policies\n- [x] Tests verify correct sorting behavior with mixed\napprove/non-approve methods\n- [x] Existing canonical ordering tests continue to pass\n\n## Fixes\n\nCloses #2370\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Opus 4.5 <noreply@anthropic.com>\nb6de9c7c fix: set coinbase sandbox correctly (#2371)\n\n763e7a04 fix: enhance preset verification for Capacitor (#2369)\n## Summary\n- Enhanced preset verification to better support Capacitor applications.\n- Added capacitor:// to the automatic verification bypass (alongside\nlocalhost) to simplify development for native apps using\ncapacitor://localhost.\n- Refactored allowedOrigins calculation in useConnectionValue to reduce\nredundancy.\n\n## Test plan\n- Verify that a Capacitor app using capacitor://localhost is\nautomatically verified.\n- Verify that verification still works correctly in embedded (iframe)\nmode.\n\nCo-authored-by: Larko <59736843+Larkooo@users.noreply.github.com>\n4489a92d Add starterpack play callback (#2362)\nAdds an onPlay callback option to starterpack flows and routes Play\nclicks through it. The keychain iframe now closes before calling the\ncallback and falls back to the existing close behavior when absent.\nffdac0c6 Ensure canonical sorting of policies before hashing (#2359)\n## Summary\n\nPolicies are now canonically sorted before hashing to prevent\nnon-deterministic merkle root calculations.\nWhen developers manipulated policies with `Object.keys()`, filtering, or\nother operations, it could non-deterministically reorder object\nattributes.\nThis caused identical policies to produce different merkle roots,\nleading to \"session/not-registered\" errors.\n\n## Changes\n\n- Sort contract entries by address (case-insensitive)\n- Sort methods within each contract by entrypoint\n- Sort message policies by computed scope_hash\n- Add tests verifying consistent output regardless of input order\n\n## Fixes\n\nCloses #2357\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Haiku 4.5 <noreply@anthropic.com>\n8ac2235e fix: reuse existing controller to prevent re-initialization issues (#2360)\n## Summary\n\n- Reuse existing controller instance from `window.starknet_controller`","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"87761418-bf8f-4928-bc34-a2a8c7dff731"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01AfDf3L5bAFw11MHi3zQ9rM","type":"tool_result","content":"v0.12.2\nv0.12.1\nv0.12.0\nv0.11.4-alpha.1\nv0.11.3-alpha.1","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"9a6586a0-a04c-47b3-b383-217b6423e729"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01QaW9Uxtp9NUguzhh2JhrJu","type":"message","role":"assistant","content":[{"type":"text","text":"Let me get the remaining commit details:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2423,"cache_read_input_tokens":30880,"cache_creation":{"ephemeral_5m_input_tokens":2423,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"dd527b08-10f1-4d7c-b485-9deba6694d3e"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01QaW9Uxtp9NUguzhh2JhrJu","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01GzbzvWH7yvwocW8jeLspBo","name":"Bash","input":{"command":"git log 0e715765..v0.12.2 --pretty=format:\"%h %s%n%b\" --no-merges","description":"Get remaining commit details from before v0.12.2"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2423,"cache_read_input_tokens":30880,"cache_creation":{"ephemeral_5m_input_tokens":2423,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"b2cb0a36-c7d2-4f4c-a70f-0b7464b5d914"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GzbzvWH7yvwocW8jeLspBo","type":"tool_result","content":"","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"a40194aa-fbcf-486a-9e5c-0291512629f0"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_013P4pcZiPsWjTGe82UxMRMa","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check what v0.12.3 should be based on the current state:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":148,"cache_read_input_tokens":33303,"cache_creation":{"ephemeral_5m_input_tokens":148,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"7eec9a36-737d-44e6-b5ad-970342050d83"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_013P4pcZiPsWjTGe82UxMRMa","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XeBKFGADNzDw65V1KRZF5r","name":"Bash","input":{"command":"git tag --sort=-version:refname | grep -E \"v0\\.12\\.\" | head -3","description":"Check v0.12.x tags"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":148,"cache_read_input_tokens":33303,"cache_creation":{"ephemeral_5m_input_tokens":148,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"93740609-369e-4e2b-8178-7ba4729c7f8c"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_013P4pcZiPsWjTGe82UxMRMa","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017Nbr5ymwCHJc2ju5wEhRiW","name":"Bash","input":{"command":"git log v0.12.3..HEAD --oneline --no-merges","description":"Get commits since v0.12.3 for v0.13.0"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":148,"cache_read_input_tokens":33303,"cache_creation":{"ephemeral_5m_input_tokens":148,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"bcdedd25-c248-40b3-97e3-7ecbdd5dbf86"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XeBKFGADNzDw65V1KRZF5r","type":"tool_result","content":"v0.12.2\nv0.12.1\nv0.12.0","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"bfe9ca02-4c34-4d02-9e19-dcf888b41431"}
{"type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"fatal: ambiguous argument 'v0.12.3..HEAD': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'","is_error":true,"tool_use_id":"toolu_017Nbr5ymwCHJc2ju5wEhRiW"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"bd36f818-1b3c-4423-b8a7-3ce5cba0b0d3"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01AAYzoW4x227PeUMRXdgc3X","type":"message","role":"assistant","content":[{"type":"text","text":"I see that v0.12.3 doesn't exist as a tag yet. Let me check from the latest release:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":33451,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"ec644e79-6f7d-4658-b4eb-9d6af7c431b9"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01AAYzoW4x227PeUMRXdgc3X","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UFs6ZCm1E63Nh7mAhBzCES","name":"Bash","input":{"command":"git describe --tags --abbrev=0","description":"Get the latest tag"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":33451,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"a2227dbe-9423-4c45-b865-057a17becbaf"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01AAYzoW4x227PeUMRXdgc3X","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WHnWmvLmkSk8PU8KbF1z5S","name":"Bash","input":{"command":"git log v0.12.2..HEAD --pretty=format:\"%h %s%n%b\" --no-merges","description":"Get commits since v0.12.2 for changelog"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":33451,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"899e8f46-cabf-4d80-b3a4-8c8f12aadc18"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UFs6ZCm1E63Nh7mAhBzCES","type":"tool_result","content":"v0.12.2","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"fec5189a-c9a6-4168-8b37-bad2d62f4cb1"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WHnWmvLmkSk8PU8KbF1z5S","type":"tool_result","content":"0b3729b9 fix: add agent mode to claude-code-action for workflow_dispatch\nThe claude-code-action@beta now requires mode: agent for non-PR/issue\nevents like workflow_dispatch.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\n\nc79e6ce2 feat: migrate npm publish to OIDC authentication (#2381)\n## Summary\n- Replace `NPM_TOKEN` secret with GitHub Actions OIDC for npm publishing\nin the release workflow\n- Add `permissions: id-token: write` to enable OIDC token generation\n- Remove `NODE_AUTH_TOKEN` env vars from publish steps\n- Add `--provenance` flag to publish commands for supply chain\nattestation\n\n## Prerequisites\nBefore merging, configure **trusted publishers** on npmjs.com for both\npackages:\n1. Go to https://www.npmjs.com/package/@cartridge/controller/access â†’\n\"Configure Trusted Publishers\"\n2. Go to https://www.npmjs.com/package/@cartridge/connector/access â†’\n\"Configure Trusted Publishers\"\n3. Set repository to `cartridge-gg/controller` and workflow to\n`release.yml`\n\nAfter this is configured, the `NPM_TOKEN` secret can be removed from the\nrepository settings.\n\n## Test plan\n- [ ] Configure trusted publishers on npm for both\n`@cartridge/controller` and `@cartridge/connector`\n- [ ] Trigger a test release to verify OIDC authentication works\n- [ ] Verify provenance attestation appears on npm package pages\n- [ ] Remove `NPM_TOKEN` secret from repository settings after\nsuccessful publish\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\n---------\n\nCo-authored-by: Claude Opus 4.6 <noreply@anthropic.com>\n2c879ec4 fix: inline changelog generation into release-dispatch (#2379)\n## Summary\n\n- Fixes a race condition where the `changelog-generation` workflow\npushed a second commit to release PRs after CI checks had already\nstarted on the first commit, leaving required status checks (`ts-lint`,\n`ts`, `storybook`) permanently pending\n- Moves changelog generation into `release-dispatch` before PR creation\nso `peter-evans/create-pull-request` includes both version bumps and\nchangelog in a single commit\n- Deletes the now-unnecessary `changelog-generation` workflow\n\n## Test plan\n\n- [ ] Run `release-dispatch` workflow and verify the PR is created with\nchangelog included in the initial commit\n- [ ] Verify all required CI checks (`ts-lint`, `ts`, `storybook`) run\nand complete on the PR\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Opus 4.6 <noreply@anthropic.com>\n0c7e6a7a Prepare release: 0.12.3 (#2378)\nAutomated changes by\n[create-pull-request](https://github.com/peter-evans/create-pull-request)\nGitHub action\n\n---------\n\nCo-authored-by: kronosapiens <kronosapiens@users.noreply.github.com>\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\nCo-authored-by: Tarrence van As <undefined@users.noreply.github.com>\n85cf71a9 feat(keychain): tighten capacitor origin verification (#2375)\nThis PR tightens the Capacitor origin verification in the Keychain to\nonly auto-verify the default 'localhost' origin. Custom Capacitor\nhostnames now require explicit authorization in the project's preset\norigins.\n\n### Changes:\n- **Keychain**: Updated to check for exact match instead of any prefix.\n- **Capacitor Example**: \n  - Updated  to use a custom hostname .\n- Updated with security guidance on custom hostnames and how to\nauthorize them in presets.\n\nThis improves security by preventing malicious Capacitor apps from\nspoofing verified origins just by using the scheme.\n9708f87a Request storage access in iframe connect flow (#2374)\n## Summary\\n- Request Storage Access API in iframe connect flow before\ncompleting connect/skip\\n- Allows third-party storage\n(cookies/localStorage) to persist across restarts in WKWebView\\n\\n##\nTesting\\n- Not run (requires device/WebView testing)\n0044542e feat: emit specialized controller toasts (#2358)\n* Emit specialized toast metadata for clients, when keychain is in an\niframe\n* Added client-only toasts to transaction execution and confirmation.\n* Emitted toasts can be used with `<ControllerToaster />` from\n`@cartridge/ui`, on Arcade and Dojo games\n* Added `<ControllerToaster />` to next.js example\n* Require keychain deployment only.\n* No changes were made to the existing keychain toasts behaviour.\n9d0280ca fix: aggregate contracts on unverified session (#2304)\nResolves C7E-1189\n\n- Aggregate methods into a single \"Approve <game>\" expendable card\n- Move it so that it appears after the session methods group\n9850cc9b Add ApprovalPolicy support to controller toWasmPolicies (#2372)\n## Summary\n\nThe controller SDK's `toWasmPolicies` function was missing\n`ApprovalPolicy` handling that exists in the keychain implementation.\nThis caused merkle root mismatches for:\n- `SessionConnector` (native/Capacitor apps)\n- `NodeProvider` (Node.js server-side)\n- `TelegramProvider` (Telegram mini-apps)\n\nWhen these connectors are used with approve policies that include\n`spender` and `amount` fields, the session registration (via keychain)\nwould create `ApprovalPolicy` objects, while session usage (via\ncontroller SDK) would create `CallPolicy` objects. This resulted in\ndifferent merkle roots and \"session/not-registered\" errors.\n\n## Changes\n\n- Add `ApprovalPolicy` handling to `packages/controller/src/utils.ts` to\nmatch keychain implementation\n- Update `SessionContracts` type in\n`packages/controller/src/policies.ts` to properly include `Approval`\nmethods\n- Add comprehensive tests for ApprovalPolicy handling\n\n## Test plan\n\n- [x] New tests verify ApprovalPolicy is created for approve methods\nwith spender/amount\n- [x] Tests verify fallback to CallPolicy (with deprecation warning) for\nlegacy approve policies\n- [x] Tests verify correct sorting behavior with mixed\napprove/non-approve methods\n- [x] Existing canonical ordering tests continue to pass\n\n## Fixes\n\nCloses #2370\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Opus 4.5 <noreply@anthropic.com>\nb6de9c7c fix: set coinbase sandbox correctly (#2371)\n\n763e7a04 fix: enhance preset verification for Capacitor (#2369)\n## Summary\n- Enhanced preset verification to better support Capacitor applications.\n- Added capacitor:// to the automatic verification bypass (alongside\nlocalhost) to simplify development for native apps using\ncapacitor://localhost.\n- Refactored allowedOrigins calculation in useConnectionValue to reduce\nredundancy.\n\n## Test plan\n- Verify that a Capacitor app using capacitor://localhost is\nautomatically verified.\n- Verify that verification still works correctly in embedded (iframe)\nmode.\n\nCo-authored-by: Larko <59736843+Larkooo@users.noreply.github.com>\n4489a92d Add starterpack play callback (#2362)\nAdds an onPlay callback option to starterpack flows and routes Play\nclicks through it. The keychain iframe now closes before calling the\ncallback and falls back to the existing close behavior when absent.\nffdac0c6 Ensure canonical sorting of policies before hashing (#2359)\n## Summary\n\nPolicies are now canonically sorted before hashing to prevent\nnon-deterministic merkle root calculations.\nWhen developers manipulated policies with `Object.keys()`, filtering, or\nother operations, it could non-deterministically reorder object\nattributes.\nThis caused identical policies to produce different merkle roots,\nleading to \"session/not-registered\" errors.\n\n## Changes\n\n- Sort contract entries by address (case-insensitive)\n- Sort methods within each contract by entrypoint\n- Sort message policies by computed scope_hash\n- Add tests verifying consistent output regardless of input order\n\n## Fixes\n\nCloses #2357\n\nğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-authored-by: Claude Haiku 4.5 <noreply@anthropic.com>\n8ac2235e fix: reuse existing controller to prevent re-initialization issues (#2360)\n## Summary\n\n- Reuse existing controller instance from `window.starknet_controller`\nwhen `ControllerConnector` is instantiated multiple times\n- Prevents duplicate iframes and message channels that cause issues when\nReact re-renders\n\n## Context\n\nWhen `ControllerConnector` is created inside a React component, React\nre-renders can cause multiple instantiations.\nThis creates duplicate penpal connections and orphaned message channels,\nbreaking the controller.\n\nThe fix checks for an existing controller on\n`window.starknet_controller` and reuses it, with a warning to guide\ndevelopers toward the correct pattern (creating the connector at module\nlevel).\n\nFixes #2093\n\n## Test plan\n\n- [ ] Verify controller works normally when created at module level (no\nwarning)\n- [ ] Verify controller works when created inside a React component\n(warning shown, but no errors)\n- [ ] Verify existing functionality is not affected\n\nğŸ¤– Generated with [Claude Code](https://claude.ai/code)\n\nCo-authored-by: Claude Opus 4.5 <noreply@anthropic.com>\n0e715765 fix: support non-Cartridge chainId lookup (#2361)\n\nf29bf3cd Prepare release: 0.12.2 (#2356)\nAutomated changes by\n[create-pull-request](https://github.com/peter-evans/create-pull-request)\nGitHub action\n\n---------\n\nCo-authored-by: Larkooo <Larkooo@users.noreply.github.com>\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\nCo-authored-by: Claude <noreply@anthropic.com>","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"bfa3502a-25a5-4268-a8d5-d8aae14fb18a"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01VLVcYY1U7oXwX7mgnx8jnn","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me generate the changelog entry and categorize the changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2802,"cache_read_input_tokens":33795,"cache_creation":{"ephemeral_5m_input_tokens":2802,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"e2bb9cb6-8a8e-46e7-9e0f-ac2b26c00fc4"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01VLVcYY1U7oXwX7mgnx8jnn","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01V9LLQs6K1FEKYUyouCwJWT","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"completed"},{"content":"Extract user-facing changes and categorize them","status":"completed"},{"content":"Read existing CHANGELOG.md format","status":"completed"},{"content":"Generate new changelog entry for 0.13.0","status":"in_progress"},{"content":"Update CHANGELOG.md with new entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2802,"cache_read_input_tokens":33795,"cache_creation":{"ephemeral_5m_input_tokens":2802,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"113d6f6c-e809-4468-a5d8-1e525b2ca8f6"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01V9LLQs6K1FEKYUyouCwJWT","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"65555faf-8cda-46dd-a296-0430ab80ba72"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_018zdtAR2kPGHonMEJbno6Cn","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XiXo7dAVgRotr2TVcgpERJ","name":"Bash","input":{"command":"date +%Y-%m-%d","description":"Get current date for changelog"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":221,"cache_read_input_tokens":36597,"cache_creation":{"ephemeral_5m_input_tokens":221,"ephemeral_1h_input_tokens":0},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"4c35841b-d5fb-49cc-9cd9-1ddc17d52c07"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XiXo7dAVgRotr2TVcgpERJ","type":"tool_result","content":"2026-02-06","is_error":false}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"bb0b5100-94f9-4f59-85fa-0871e75f7d75"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_017XedcnNddhJy9Z63xpcwc5","type":"message","role":"assistant","content":[{"type":"text","text":"Now I'll generate the changelog entry and update the file:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":98,"cache_read_input_tokens":36818,"cache_creation":{"ephemeral_5m_input_tokens":98,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"6a78c003-5045-4102-bdc3-fbc21b56040e"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_017XedcnNddhJy9Z63xpcwc5","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016pMq1dE7ezw4Hc1x8gAbEQ","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"completed"},{"content":"Extract user-facing changes and categorize them","status":"completed"},{"content":"Read existing CHANGELOG.md format","status":"completed"},{"content":"Generate new changelog entry for 0.13.0","status":"completed"},{"content":"Update CHANGELOG.md with new entry","status":"in_progress"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":98,"cache_read_input_tokens":36818,"cache_creation":{"ephemeral_5m_input_tokens":98,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"2d22dcca-558a-45e9-9607-4ccc8aa66721"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016pMq1dE7ezw4Hc1x8gAbEQ","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"599e9a25-500f-4adb-9365-360ebf92e01d"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_017pHGx7Xy6pY4hu51qLv2Mh","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014YchsbFdcwyrxZFnif83Dj","name":"Edit","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md","old_string":"# Changelog\n\n## [0.12.3] - 2026-02-05","new_string":"# Changelog\n\n## [0.13.0] - 2026-02-06\n\n### âœ¨ New Features\n- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for enhanced policy management and proper merkle root calculation across different connectors (#2372)\n- **@cartridge/controller**: Added starterpack play callback functionality enabling custom game launch behavior and improved gaming integration (#2362)\n- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback for iframe-embedded applications (#2358)\n\n### ğŸš€ Improvements\n- **@cartridge/keychain**: Enhanced iframe connect flow with automatic Storage Access API request for improved cross-domain authentication in WebView environments (#2374)\n- **@cartridge/keychain**: Tightened Capacitor origin verification to only auto-verify localhost, requiring explicit authorization for custom hostnames in presets for enhanced security (#2375)\n- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing and prevent non-deterministic merkle root calculations (#2359)\n- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation and support for capacitor:// scheme (#2369)\n- **Development**: Migrated npm publishing to OIDC authentication with supply chain provenance attestation for enhanced security (#2381)\n\n### ğŸ› Bug Fixes\n- **@cartridge/controller**: Fixed aggregate contracts display on unverified session to properly group methods into \"Approve <game>\" expendable cards (#2304)\n- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances to prevent duplicate iframes and message channels (#2360)\n- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations for better multi-chain compatibility (#2361)\n- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n- **CI/CD**: Fixed release workflow race conditions by inlining changelog generation into release dispatch workflow (#2379)\n\n## [0.12.3] - 2026-02-05"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":219,"cache_read_input_tokens":36916,"cache_creation":{"ephemeral_5m_input_tokens":219,"ephemeral_1h_input_tokens":0},"output_tokens":23,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"f85904d4-5a21-4fa4-9108-4b08bbf4cdc4"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014YchsbFdcwyrxZFnif83Dj","type":"tool_result","content":"The file /home/runner/work/controller/controller/CHANGELOG.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n     1â†’# Changelog\n     2â†’\n     3â†’## [0.13.0] - 2026-02-06\n     4â†’\n     5â†’### âœ¨ New Features\n     6â†’- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for enhanced policy management and proper merkle root calculation across different connectors (#2372)\n     7â†’- **@cartridge/controller**: Added starterpack play callback functionality enabling custom game launch behavior and improved gaming integration (#2362)\n     8â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback for iframe-embedded applications (#2358)\n     9â†’\n    10â†’### ğŸš€ Improvements\n    11â†’- **@cartridge/keychain**: Enhanced iframe connect flow with automatic Storage Access API request for improved cross-domain authentication in WebView environments (#2374)\n    12â†’- **@cartridge/keychain**: Tightened Capacitor origin verification to only auto-verify localhost, requiring explicit authorization for custom hostnames in presets for enhanced security (#2375)\n    13â†’- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing and prevent non-deterministic merkle root calculations (#2359)\n    14â†’- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation and support for capacitor:// scheme (#2369)\n    15â†’- **Development**: Migrated npm publishing to OIDC authentication with supply chain provenance attestation for enhanced security (#2381)\n    16â†’\n    17â†’### ğŸ› Bug Fixes\n    18â†’- **@cartridge/controller**: Fixed aggregate contracts display on unverified session to properly group methods into \"Approve <game>\" expendable cards (#2304)\n    19â†’- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances to prevent duplicate iframes and message channels (#2360)\n    20â†’- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations for better multi-chain compatibility (#2361)\n    21â†’- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n    22â†’- **CI/CD**: Fixed release workflow race conditions by inlining changelog generation into release dispatch workflow (#2379)\n    23â†’\n    24â†’## [0.12.3] - 2026-02-05\n    25â†’\n    26â†’### âœ¨ New Features\n    27â†’- **@cartridge/keychain**: Added Capacitor origin verification tightening for enhanced security in mobile environments (#2375)\n    28â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback (#2358)"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"848c7bb5-bf68-4eef-b6f0-88943da10818"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_0184PshvzyfLS6U2uDYeoRbV","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QC4Rejx6cZP4tAwEbbvP18","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commit history from v0.12.2 to HEAD","status":"completed"},{"content":"Extract user-facing changes and categorize them","status":"completed"},{"content":"Read existing CHANGELOG.md format","status":"completed"},{"content":"Generate new changelog entry for 0.13.0","status":"completed"},{"content":"Update CHANGELOG.md with new entry","status":"completed"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":1315,"cache_read_input_tokens":37135,"cache_creation":{"ephemeral_5m_input_tokens":1315,"ephemeral_1h_input_tokens":0},"output_tokens":24,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"59c87486-4064-498c-8354-c431a0cfe857"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QC4Rejx6cZP4tAwEbbvP18","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"ee7c05fe-1eb5-4023-a1f7-73d14de8f42f"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01E6j2bLWA5SZaAMZS2QNhVk","type":"message","role":"assistant","content":[{"type":"text","text":"âœ… Generated changelog entry for version 0.13.0 and updated CHANGELOG.md\n\nThe changelog includes:\n\n**New Features:**\n- ApprovalPolicy support for better policy management \n- Starterpack play callback functionality\n- Specialized controller toast notifications\n\n**Improvements:**\n- Enhanced iframe connect flow with Storage Access API\n- Tightened Capacitor origin verification for security\n- Canonical policy sorting for consistent merkle roots\n- OIDC authentication for npm publishing\n\n**Bug Fixes:**\n- Fixed controller re-initialization issues\n- Fixed chain ID lookup for multi-chain support\n- Fixed various session and configuration issues\n\nAll changes focus on user-facing functionality and are grouped by package (@cartridge/controller vs @cartridge/keychain)."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":204,"cache_read_input_tokens":38450,"cache_creation":{"ephemeral_5m_input_tokens":204,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","uuid":"874668a4-72ff-473f-874b-00e0c90515e6"}
{"type":"result","subtype":"success","is_error":false,"duration_ms":72306,"duration_api_ms":78989,"num_turns":44,"result":"âœ… Generated changelog entry for version 0.13.0 and updated CHANGELOG.md\n\nThe changelog includes:\n\n**New Features:**\n- ApprovalPolicy support for better policy management \n- Starterpack play callback functionality\n- Specialized controller toast notifications\n\n**Improvements:**\n- Enhanced iframe connect flow with Storage Access API\n- Tightened Capacitor origin verification for security\n- Canonical policy sorting for consistent merkle roots\n- OIDC authentication for npm publishing\n\n**Bug Fixes:**\n- Fixed controller re-initialization issues\n- Fixed chain ID lookup for multi-chain support\n- Fixed various session and configuration issues\n\nAll changes focus on user-facing functionality and are grouped by package (@cartridge/controller vs @cartridge/keychain).","session_id":"962fb06a-db2e-48d5-bee8-b4536ccb6107","total_cost_usd":0.2824696,"usage":{"input_tokens":4,"cache_creation_input_tokens":204,"cache_read_input_tokens":38450,"output_tokens":171,"server_tool_use":{"web_search_requests":0},"service_tier":"standard"},"permission_denials":[],"uuid":"3fb889c9-b5d7-44cb-a109-e45337419f35"}
