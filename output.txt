{"type":"system","subtype":"init","cwd":"/home/runner/work/controller/controller","session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","tools":["Task","Bash","Glob","Grep","LS","ExitPlanMode","Read","Edit","MultiEdit","Write","NotebookEdit","TodoWrite","BashOutput","KillBash"],"mcp_servers":[],"model":"claude-sonnet-4-20250514","permissionMode":"default","slash_commands":["pr","commit","add-dir","agents","clear","compact","config","context","cost","doctor","exit","help","ide","init","install-github-app","mcp","memory","migrate-installer","model","output-style","output-style:new","pr-comments","release-notes","resume","status","statusline","bug","review","security-review","upgrade","vim","permissions","hooks","export","logout","login","bashes"],"apiKeySource":"ANTHROPIC_API_KEY","output_style":"default","uuid":"71af4ea4-b19a-425b-8e34-d4cfbf67b77d"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01GmsqmEMKr1y37Py9mAVFhy","type":"message","role":"assistant","content":[{"type":"text","text":"I'll help you generate a changelog entry for version 0.13.7. Let me first analyze the git commits since v0.13.6 and then update the CHANGELOG.md file."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6165,"cache_read_input_tokens":10412,"cache_creation":{"ephemeral_5m_input_tokens":6165,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"709930b9-0ef5-4c58-ba99-a20a5c16f37b"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01GmsqmEMKr1y37Py9mAVFhy","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TNWm86RuT6p1Mczkvb3MJj","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"pending"},{"content":"Review commit messages and changes for user-facing features","status":"pending"},{"content":"Check for any breaking changes or dependency updates","status":"pending"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":6165,"cache_read_input_tokens":10412,"cache_creation":{"ephemeral_5m_input_tokens":6165,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0e480cf8-8bd8-40dd-89b8-1269756babfc"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TNWm86RuT6p1Mczkvb3MJj","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0d70672f-17c0-499d-9ff9-aa650d4f0207"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01BhGTASb1TDzwcfh5GEJ4Pw","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01M6JrM6DFTCtFrpTY1pAAv5","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"in_progress"},{"content":"Review commit messages and changes for user-facing features","status":"pending"},{"content":"Check for any breaking changes or dependency updates","status":"pending"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":229,"cache_read_input_tokens":16577,"cache_creation":{"ephemeral_5m_input_tokens":229,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"f3fb5320-6a33-4900-ae19-566b7945f8ca"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01M6JrM6DFTCtFrpTY1pAAv5","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"5b28593b-b18d-41c9-aba3-edc723747871"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01MnJgd6gPdENCMbNCEsnBMn","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LtkMYvKa98TZtnQKGxqgtM","name":"Bash","input":{"command":"git log --oneline v0.13.6..HEAD","description":"Get commits since v0.13.6 release"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":191,"cache_read_input_tokens":16806,"cache_creation":{"ephemeral_5m_input_tokens":191,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"e433b53d-db9c-42cb-9cbb-6603959689d2"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LtkMYvKa98TZtnQKGxqgtM","type":"tool_result","content":"e0ab711a Add headless username lookup and auto-signup connect (#2400)\n12761e1b Prepare release: 0.13.6 (#2405)","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"a1d0ad3f-e85f-4b88-b427-b67e2cf88f8f"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Fp4XowwQRkhzqMu7VqNFbf","type":"message","role":"assistant","content":[{"type":"text","text":"Let me get more detailed commit information to understand the changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":143,"cache_read_input_tokens":16997,"cache_creation":{"ephemeral_5m_input_tokens":143,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"d4ef91f9-ca1b-4264-9b7b-c8f7c54a5cbb"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Fp4XowwQRkhzqMu7VqNFbf","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0194UZvJnsB1KW7zc16iyDSh","name":"Bash","input":{"command":"git log --pretty=format:\"%h %s%n%b%n---\" v0.13.6..HEAD","description":"Get detailed commit messages since v0.13.6"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":143,"cache_read_input_tokens":16997,"cache_creation":{"ephemeral_5m_input_tokens":143,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"7ee8ce55-d3f2-46d6-932c-7ed563884a3b"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0194UZvJnsB1KW7zc16iyDSh","type":"tool_result","content":"e0ab711a Add headless username lookup and auto-signup connect (#2400)\nThis adds `controller.lookupUsername(username)` for headless flows,\nreturning whether an account exists and normalized signer options for\nthe controllerâ€™s configured chain. It also updates headless connect to\nauto-signup when a username is missing, while keeping strict signer\nmatching for existing accounts. The connector now exposes the lookup\nhelper, and docs were updated with the recommended lookup-first flow.\nTests were added for lookup normalization/error handling and for\npassword-based headless auto-signup.\n---\n12761e1b Prepare release: 0.13.6 (#2405)\nAutomated changes by\n[create-pull-request](https://github.com/peter-evans/create-pull-request)\nGitHub action\n\nCo-authored-by: kronosapiens <kronosapiens@users.noreply.github.com>\n---","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"1258b99e-5a0c-4569-ae01-9a9530f2646e"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Ng9pmfMQ9XPTJhZYfp6Bt8","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me check what files were changed to understand the scope better:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":343,"cache_read_input_tokens":17140,"cache_creation":{"ephemeral_5m_input_tokens":343,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"66c63161-cdb9-4fa3-bc30-8db113a2803c"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Ng9pmfMQ9XPTJhZYfp6Bt8","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016RincZzhCP1NgqwcWyyMka","name":"Bash","input":{"command":"git diff --name-only v0.13.6..HEAD","description":"Get list of files changed since v0.13.6"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":343,"cache_read_input_tokens":17140,"cache_creation":{"ephemeral_5m_input_tokens":343,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"3e943a37-76bb-4db6-b63b-f841ec33145b"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016RincZzhCP1NgqwcWyyMka","type":"tool_result","content":"CHANGELOG.md\nexamples/capacitor/package.json\nexamples/next/package.json\nexamples/node/package.json\nexamples/svelte/package.json\noutput.txt\npackages/connector/package.json\npackages/connector/src/controller.ts\npackages/controller/HEADLESS_MODE.md\npackages/controller/package.json\npackages/controller/src/__tests__/lookupUsername.test.ts\npackages/controller/src/controller.ts\npackages/controller/src/lookup.ts\npackages/controller/src/types.ts\npackages/eslint/package.json\npackages/keychain/package.json\npackages/keychain/src/utils/connection/headless.test.ts\npackages/keychain/src/utils/connection/headless.ts\npackages/tsconfig/package.json","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0a6b0f34-17cd-48f6-8128-6cfa7137587c"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Tz1rkc3gfqJPmDXDtxcU4t","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check the current CHANGELOG.md to understand the format and see what's already there:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":308,"cache_read_input_tokens":17483,"cache_creation":{"ephemeral_5m_input_tokens":308,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"e49f3ad6-01df-48f4-b9da-0b0a8ab5e26f"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Tz1rkc3gfqJPmDXDtxcU4t","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JeV8CuWD2uHyhBTEDzVvEi","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":308,"cache_read_input_tokens":17483,"cache_creation":{"ephemeral_5m_input_tokens":308,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"d3d695fd-3b9a-4ae3-8788-c9463e94e2e6"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JeV8CuWD2uHyhBTEDzVvEi","type":"tool_result","content":"     1â†’# Changelog\n     2â†’\n     3â†’## [0.13.6] - 2026-02-12\n     4â†’\n     5â†’### ğŸš€ Improvements\n     6â†’- **@cartridge/controller**: Enhanced SessionProvider preset support with automatic policy resolution from `@cartridge/presets`, enabling developers to use `preset: \"my-game\"` instead of manually duplicating policies and ensuring consistent policy hashing between SDK and keychain (#2401)\n     7â†’- **Documentation**: Updated project structure documentation with comprehensive provider flows, clarified ControllerProvider (web) and SessionProvider (native) architecture, and improved examples directory guidance (#2404)\n     8â†’\n     9â†’### ğŸ› Bug Fixes\n    10â†’- **@cartridge/controller**: Fixed `session/not-registered` errors by normalizing contract addresses in policy hashing and consolidating async initialization to prevent policy hash divergence between SDK and keychain (#2401)\n    11â†’- **@cartridge/keychain**: Fixed theme copy button visibility in ErrorAlert component by replacing hardcoded black icons with theme-aware styling, ensuring proper visibility on dark backgrounds (#2402)\n    12â†’\n    13â†’## [0.13.5] - 2026-02-10\n    14â†’\n    15â†’### âœ¨ New Features\n    16â†’- **@cartridge/controller**: Added headless mode support to controller SDK for seamless authentication, allowing `connect({ username, signer, password? })` with hidden keychain iframe and UI-less authentication flows (#2315)\n    17â†’- **@cartridge/controller**: Added `close()` method to ControllerProvider for programmatic cleanup of controller instances (#2373)\n    18â†’- **@cartridge/controller**: Moved `asWalletStandard()` method from connector to controller package, enabling wallet standard usage without starknet-react dependency (#2364)\n    19â†’\n    20â†’### ğŸš€ Improvements\n    21â†’- **@cartridge/keychain**: Enhanced session management with exposed session GUID fields (`allowedPoliciesRoot`, `metadataHash`, `sessionKeyGuid`, `guardianKeyGuid`) in keychain callback payloads for registered sessions (#2396)\n    22â†’- **@cartridge/keychain**: Consolidated policy handling by refactoring `toWasmPolicies` into single source of truth for improved consistency (#2394)\n    23â†’- **@cartridge/keychain**: Enhanced quests and achievements display to only show tabs when game/application supports them (#2392)\n    24â†’- **@cartridge/keychain**: Improved starterpack purchase UI to always show quantity in purchase button for better user clarity (#2390)\n    25â†’- **@cartridge/connector**: Improved disconnect handling to keep `@starknet-react/core` state in sync with controller state (#2315)\n    26â†’\n    27â†’### ğŸ› Bug Fixes\n    28â†’- **@cartridge/keychain**: Fixed session authentication to properly disconnect and re-authenticate when session `rpc_url` differs from stored controller, ensuring correct chain targeting (#2395)\n    29â†’- **@cartridge/controller**: Enhanced iframe security by hardening keychain iframe loading with URL validation, origin pinning, and reduced feature grants by default (#2384)\n    30â†’- **@cartridge/keychain**: Added keychain CSP/security headers and removed inline scripts from index.html for improved security posture (#2384)\n    31â†’\n    32â†’### ğŸ“¦ Dependencies\n    33â†’- **controller-rs**: Updated to v0.9.3 for improved backend functionality (#2397)\n    34â†’\n    35â†’## [0.13.4] - 2026-02-06\n    36â†’\n    37â†’### ğŸ› Bug Fixes\n    38â†’- **CI/CD**: Fixed npm publishing with catalog resolution by reverting to pnpm publish, which correctly handles pnpm catalog: protocol that npm publish doesn't support, ensuring proper package resolution in published packages (#77210c65)\n    39â†’\n    40â†’### ğŸ”§ Development\n    41â†’- **Agent Tooling**: Added standardized agent/dev tooling with `.agents/` directory as source of truth, Claude/Cursor skill compatibility symlinks, and enhanced pre-commit hooks for improved development workflow (#2388)\n    42â†’\n    43â†’## [0.13.3] - 2026-02-06\n    44â†’\n    45â†’### âœ¨ New Features\n    46â†’- **@cartridge/controller**: Added starterpack play callback functionality enabling custom game launch behavior and improved gaming integration (#2362)\n    47â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback for iframe-embedded applications (#2358)\n    48â†’\n    49â†’### ğŸš€ Improvements\n    50â†’- **@cartridge/keychain**: Enhanced iframe connect flow with automatic Storage Access API request for improved cross-domain authentication in WebView environments (#2374)\n    51â†’- **@cartridge/keychain**: Tightened Capacitor origin verification to only auto-verify localhost, requiring explicit authorization for custom hostnames in presets for enhanced security (#2375)\n    52â†’- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing and prevent non-deterministic merkle root calculations (#2359)\n    53â†’- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation and support for capacitor:// scheme (#2369)\n    54â†’\n    55â†’### ğŸ› Bug Fixes\n    56â†’- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for proper merkle root calculation across different connectors, fixing session registration mismatches (#2372)\n    57â†’- **@cartridge/controller**: Fixed aggregate contracts display on unverified session to properly group methods into \"Approve <game>\" expendable cards (#2304)\n    58â†’- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances to prevent duplicate iframes and message channels (#2360)\n    59â†’- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations for better multi-chain compatibility (#2361)\n    60â†’- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n    61â†’- **@cartridge/keychain**: Fixed password login button alignment with primary theme for consistent UI styling (#2385)\n    62â†’\n    63â†’## [0.13.2] - 2026-02-06\n    64â†’\n    65â†’### ğŸ› Bug Fixes\n    66â†’- **@cartridge/controller, @cartridge/connector**: Added repository field to package.json files for npm OIDC trusted publishing, ensuring proper package verification and supply chain security (#c9c6f25d)\n    67â†’\n    68â†’## [0.13.1] - 2026-02-06\n    69â†’\n    70â†’### ğŸ› Bug Fixes\n    71â†’- **CI/CD**: Fixed npm publishing with OIDC authentication by switching from pnpm publish to npm publish and removing registry-url from setup-node to prevent .npmrc conflicts that block OIDC token exchange (#3880e8ba)\n    72â†’\n    73â†’## [0.13.0] - 2026-02-06\n    74â†’\n    75â†’### âœ¨ New Features\n    76â†’- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for enhanced policy management and proper merkle root calculation across different connectors (#2372)\n    77â†’- **@cartridge/controller**: Added starterpack play callback functionality enabling custom game launch behavior and improved gaming integration (#2362)\n    78â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback for iframe-embedded applications (#2358)\n    79â†’\n    80â†’### ğŸš€ Improvements\n    81â†’- **@cartridge/keychain**: Enhanced iframe connect flow with automatic Storage Access API request for improved cross-domain authentication in WebView environments (#2374)\n    82â†’- **@cartridge/keychain**: Tightened Capacitor origin verification to only auto-verify localhost, requiring explicit authorization for custom hostnames in presets for enhanced security (#2375)\n    83â†’- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing and prevent non-deterministic merkle root calculations (#2359)\n    84â†’- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation and support for capacitor:// scheme (#2369)\n    85â†’- **Development**: Migrated npm publishing to OIDC authentication with supply chain provenance attestation for enhanced security (#2381)\n    86â†’\n    87â†’### ğŸ› Bug Fixes\n    88â†’- **@cartridge/controller**: Fixed aggregate contracts display on unverified session to properly group methods into \"Approve <game>\" expendable cards (#2304)\n    89â†’- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances to prevent duplicate iframes and message channels (#2360)\n    90â†’- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations for better multi-chain compatibility (#2361)\n    91â†’- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n    92â†’- **CI/CD**: Fixed release workflow race conditions by inlining changelog generation into release dispatch workflow (#2379)\n    93â†’\n    94â†’## [0.12.3] - 2026-02-05\n    95â†’\n    96â†’### âœ¨ New Features\n    97â†’- **@cartridge/keychain**: Added Capacitor origin verification tightening for enhanced security in mobile environments (#2375)\n    98â†’- **@cartridge/controller**: Added specialized controller toast notifications with improved messaging and user feedback (#2358)\n    99â†’- **@cartridge/controller**: Added ApprovalPolicy support to controller toWasmPolicies for enhanced policy management (#2372)\n   100â†’- **@cartridge/controller**: Added starterpack play callback functionality for improved gaming integration (#2362)\n   101â†’\n   102â†’### ğŸš€ Improvements  \n   103â†’- **@cartridge/keychain**: Enhanced iframe connect flow with automatic storage access request for improved cross-domain authentication (#2374)\n   104â†’- **@cartridge/controller**: Improved policy handling with canonical sorting before hashing to ensure consistent policy processing (#2359)\n   105â†’- **@cartridge/controller**: Enhanced preset verification for Capacitor environments with better validation (#2369)\n   106â†’\n   107â†’### ğŸ› Bug Fixes\n   108â†’- **@cartridge/controller**: Fixed aggregate contracts on unverified session to prevent session-related issues (#2304)\n   109â†’- **@cartridge/keychain**: Fixed Coinbase sandbox configuration to ensure proper sandbox environment setup (#2371)\n   110â†’- **@cartridge/controller**: Fixed controller re-initialization issues by reusing existing controller instances (#2360)\n   111â†’- **@cartridge/controller**: Fixed chain ID lookup to support non-Cartridge chain configurations (#2361)\n   112â†’\n   113â†’## [0.12.2] - 2026-01-29\n   114â†’\n   115â†’### âœ¨ New Features\n   116â†’- **Examples**: Added Capacitor session example with iOS app integration, demonstrating mobile session management and providing comprehensive cross-platform development guidance (#2355)\n   117â†’- **@cartridge/keychain**: Enhanced Coinbase onramp integration with `createCoinbaseLayerswapOrder` mutation for improved order creation and processing (#2354)\n   118â†’- **@cartridge/keychain**: Added comprehensive cost breakdown display for Apple Pay purchases, showing detailed fee structure including Coinbase fees and bridge fees with real-time pricing from Coinbase Onramp API (#2352)\n   119â†’- **@cartridge/keychain**: Added starterpack Apple Pay checkout functionality for streamlined mobile payments (#2339)\n   120â†’- **@cartridge/keychain**: Implemented verification autofill functionality for improved user experience during authentication flows (#2342)\n   121â†’- **@cartridge/keychain**: Added order fetching by IDs capability for enhanced order management and tracking (#2334)\n   122â†’\n   123â†’### ğŸš€ Improvements  \n   124â†’- **@cartridge/keychain**: Removed supported-platforms feature gate, making platform detection generally available (#2335)\n   125â†’- **Development**: Migrated skills documentation to centralized `.agents/skills` directory for better organization and AI-assisted development workflows (#2353)\n   126â†’\n   127â†’### ğŸ› Bug Fixes\n   128â†’- **@cartridge/keychain**: Fixed 'proceed with caution' warning visibility for slot login flows, improving user experience (#2351)\n   129â†’- **@cartridge/keychain**: Fixed purchase token layout issues for better visual consistency (#2343)\n   130â†’- **@cartridge/keychain**: Fixed Layerswap username retrieval from authentication context for proper user identification (#2347)\n   131â†’- **@cartridge/keychain**: Fixed Coinbase Terms of Service link for proper legal compliance (#2341)\n   132â†’- **@cartridge/keychain**: Fixed Coinbase query handling for improved API integration (#2338)\n   133â†’\n   134â†’### ğŸ“¦ Dependencies\n   135â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#2350, #2348, #2346, #2345, #2344, #2337)\n   136â†’\n   137â†’## [0.12.1] - 2026-01-07\n   138â†’\n   139â†’### âœ¨ New Features\n   140â†’- **@cartridge/controller**: Added configurable error display modes with `errorDisplayMode` option, enabling developers to control how transaction errors are presented to users with three modes: `modal` (default), `notification` (clickable toast), and `silent` (console only) (#2312)\n   141â†’\n   142â†’### ğŸš€ Improvements  \n   143â†’- **Development**: Enhanced Claude Code integration with structured skill guides for code review, PR management, testing, Storybook snapshots, and release workflows (#2311, #2310)\n   144â†’- **Documentation**: Expanded CLAUDE.md with detailed technology stack versions, build process explanations, and comprehensive development workflow guidance (#2310)\n   145â†’\n   146â†’### ğŸ”§ Development\n   147â†’- **Build**: Added .worktrees to .gitignore for improved Git worktree support (#2311)\n   148â†’- **Claude Integration**: Added comprehensive permissions configuration and skill documentation for streamlined AI-assisted development (#2311, #2310)\n   149â†’\n   150â†’## [0.12.0] - 2026-01-01\n   151â†’\n   152â†’### âœ¨ New Features\n   153â†’- **@cartridge/controller**: Added dynamic `signupOptions` to `connect()` method, enabling developers to override constructor configuration per connection and create multiple branded authentication flows (e.g., \"Login with Phantom\", \"Login with Google\") using a single Controller instance (#2298)\n   154â†’- **@cartridge/keychain**: Added wallet selection drawer for onchain checkout, replacing navigation-based flow with inline slide-up drawer for more seamless UX (#2294)\n   155â†’- **@cartridge/keychain**: Added Coinbase onramp integration with `useCoinbase` hook for order creation, transaction queries, and requirement checks with automatic client IP detection (#2296)\n   156â†’- **@cartridge/keychain**: Added support for additional payment tokens in starterpack metadata, allowing creators to specify custom payment options beyond default ETH, STRK, and USDC (#2292)\n   157â†’\n   158â†’### ğŸš€ Improvements  \n   159â†’- **@cartridge/controller**: Enhanced paymaster error handling with graceful fallback to user-pays flow when paymaster is unavailable due to rate limits, execution timing, or other conditions (#2291)\n   160â†’- **@cartridge/keychain**: Improved authentication flows with branded button text for single-signer configurations and configurable signup authentication methods (#2290)\n   161â†’- **@cartridge/keychain**: Enhanced session management by restoring wildcard session creation during login flows for better user experience (#2302, #637faa12)\n   162â†’- **@cartridge/keychain**: Updated Ekubo integration to use new chain ID-based API format for improved swap functionality (#2287)\n   163â†’- **@cartridge/keychain**: Improved session footer styling with proper padding and button text updates from \"Create Session\" to \"Continue\" (#2274)\n   164â†’\n   165â†’### ğŸ› Bug Fixes\n   166â†’- **@cartridge/controller**: Restored `propagateSessionErrors` functionality for contract execution, ensuring errors are properly propagated back to callers instead of showing manual approval modal when enabled (#2305)\n   167â†’- **@cartridge/keychain**: Fixed starterpack loading flicker by showing proper loading states during loading/onchain/preimage states (#2297)\n   168â†’- **@cartridge/keychain**: Fixed collection pagination issues for better user experience (#2301)\n   169â†’- **@cartridge/keychain**: Fixed session management by reverting and then restoring wildcard session creation during register session login for optimal user flow (#2299, #2302)\n   170â†’- **@cartridge/keychain**: Fixed Ekubo API CORS issues by specifying proper CORS headers and credentials handling (#2288)\n   171â†’\n   172â†’### ğŸ“¦ Dependencies\n   173â†’- **@cartridge/ui**: Updated to latest commits for improved design consistency and React 19 peer dependency support (#2295, #2260)\n   174â†’\n   175â†’## [0.11.4-alpha.1] - 2025-12-31\n   176â†’\n   177â†’### âœ¨ New Features\n   178â†’- **@cartridge/controller**: Added dynamic `signupOptions` to `connect()` method, enabling developers to override constructor configuration per connection and create multiple branded authentication flows (e.g., \"Login with Phantom\", \"Login with Google\") using a single Controller instance (#2298)\n   179â†’- **@cartridge/keychain**: Added wallet selection drawer for onchain checkout, replacing navigation-based flow with inline slide-up drawer for more seamless UX (#2294)\n   180â†’- **@cartridge/keychain**: Added Coinbase onramp integration with `useCoinbase` hook for order creation, transaction queries, and requirement checks with automatic client IP detection (#2296)\n   181â†’- **@cartridge/keychain**: Added support for additional payment tokens in starterpack metadata, allowing creators to specify custom payment options beyond default ETH, STRK, and USDC (#2292)\n   182â†’\n   183â†’### ğŸš€ Improvements  \n   184â†’- **@cartridge/controller**: Enhanced paymaster error handling with graceful fallback to user-pays flow when paymaster is unavailable due to rate limits, execution timing, or other conditions (#2291)\n   185â†’- **@cartridge/keychain**: Improved authentication flows with branded button text for single-signer configurations and configurable signup authentication methods (#2290, #1b4423c3)\n   186â†’- **@cartridge/keychain**: Enhanced session management by restoring wildcard session creation during login flows for better user experience (#2302, #637faa12)\n   187â†’- **@cartridge/keychain**: Updated Ekubo integration to use new chain ID-based API format for improved swap functionality (#2287)\n   188â†’- **@cartridge/keychain**: Improved session footer styling with proper padding and button text updates from \"Create Session\" to \"Continue\" (#2274)\n   189â†’\n   190â†’### ğŸ› Bug Fixes\n   191â†’- **@cartridge/controller**: Restored `propagateSessionErrors` functionality for contract execution, ensuring errors are properly propagated back to callers instead of showing manual approval modal when enabled (#2305)\n   192â†’- **@cartridge/keychain**: Fixed starterpack loading flicker by showing proper loading states during loading/onchain/preimage states (#2297)\n   193â†’- **@cartridge/keychain**: Fixed collection pagination issues for better user experience (#2301)\n   194â†’- **@cartridge/keychain**: Fixed controlled Select component warnings in cost breakdown by using proper value handling (#2294)\n   195â†’- **@cartridge/keychain**: Fixed Ekubo API CORS issues by specifying proper CORS headers and credentials handling (#2288)\n   196â†’\n   197â†’### ğŸ”§ Refactoring\n   198â†’- **Development**: Multiple UI component updates and dependency management improvements (#2295, #2260)\n   199â†’- **@cartridge/keychain**: Simplified authentication flows by removing complex route-based session skipping logic in favor of consistent wildcard session creation (#2286, #2285)\n   200â†’\n   201â†’### ğŸ“¦ Dependencies\n   202â†’- **@cartridge/ui**: Updated to latest commits for improved design consistency and React 19 peer dependency support\n   203â†’\n   204â†’## [0.11.3] - 2025-12-10\n   205â†’\n   206â†’### âœ¨ New Features\n   207â†’- **@cartridge/keychain**: Added Layerswap cross-chain deposit integration for onchain checkout with balance checks, bridging actions, and UI for conversion/liquidity errors (#2273)\n   208â†’- **@cartridge/controller**: Added Phantom EVM wallet authentication method extending EthereumWalletBase, enabling login and signup with Phantom's EVM-compatible mode (#2278)\n   209â†’- **@cartridge/controller**: Added toast notification API with ToastType and ToastOptions interfaces, enabling toast creation from the controller SDK (#2265)\n   210â†’- **@cartridge/keychain**: Added quests functionality for enhanced gaming features (#2280)\n   211â†’\n   212â†’### ğŸš€ Improvements  \n   213â†’- **@cartridge/keychain**: Enhanced onchain purchase flow with multi-network wallet selection, improved cost breakdown displaying Layerswap fees, and streamlined navigation (#2273)\n   214â†’- **@cartridge/keychain**: Improved purchase context architecture by splitting into flow-specific contexts (StarterpackContext, OnchainPurchaseContext, CreditPurchaseContext) for better maintainability (#2270)\n   215â†’- **@cartridge/keychain**: Enhanced authentication flows to skip wildcard session creation during register session login, reducing friction from two signatures to one (#2275)\n   216â†’- **@cartridge/keychain**: Reverted controller iframe dismiss behavior to prevent accidental closure when clicking outside (#2277)\n   217â†’\n   218â†’### ğŸ› Bug Fixes\n   219â†’- **@cartridge/keychain**: Fixed network selection flicker by adding detection state to suppress empty UI while detecting external wallets (#2272)\n   220â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch errors by clearing cached Auth0 tokens before nonce generation, ensuring fresh tokens with correct nonces (#2271)\n   221â†’- **@cartridge/controller**: Added payment permission to iframe allow attribute for proper Stripe Payment Request API access, enabling Apple Pay and Google Pay support (#2269)\n   222â†’- **@cartridge/keychain**: Reduced Ekubo API console noise by removing verbose 429 logging and adjusting retry/backoff configurations for better rate limit handling (#2268)\n   223â†’\n   224â†’### ğŸ”§ Refactoring\n   225â†’- **Development**: Removed build:compat infrastructure and associated dependencies, simplifying build configuration across packages (#2279)\n   226â†’\n   227â†’## [0.11.3-alpha.2] - 2025-12-10\n   228â†’\n   229â†’### âœ¨ New Features\n   230â†’- **@cartridge/keychain**: Added Layerswap cross-chain deposit integration for onchain checkout with balance checks, bridging actions, and UI for conversion/liquidity errors (#2273)\n   231â†’- **@cartridge/controller**: Added Phantom EVM wallet authentication method extending EthereumWalletBase, enabling login and signup with Phantom's EVM-compatible mode (#2278)\n   232â†’- **@cartridge/controller**: Added toast notification API with ToastType and ToastOptions interfaces, enabling toast creation from the controller SDK (#2265)\n   233â†’- **@cartridge/keychain**: Added quests functionality for enhanced gaming features (#2280)\n   234â†’\n   235â†’### ğŸš€ Improvements  \n   236â†’- **@cartridge/keychain**: Enhanced onchain purchase flow with multi-network wallet selection, improved cost breakdown displaying Layerswap fees, and streamlined navigation (#2273)\n   237â†’- **@cartridge/keychain**: Improved purchase context architecture by splitting into flow-specific contexts (StarterpackContext, OnchainPurchaseContext, CreditPurchaseContext) for better maintainability (#2270)\n   238â†’- **@cartridge/keychain**: Enhanced authentication flows to skip wildcard session creation during register session login, reducing friction from two signatures to one (#2275)\n   239â†’- **@cartridge/keychain**: Reverted controller iframe dismiss behavior to prevent accidental closure when clicking outside (#2277)\n   240â†’\n   241â†’### ğŸ› Bug Fixes\n   242â†’- **@cartridge/keychain**: Fixed network selection flicker by adding detection state to suppress empty UI while detecting external wallets (#2272)\n   243â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch errors by clearing cached Auth0 tokens before nonce generation, ensuring fresh tokens with correct nonces (#2271)\n   244â†’- **@cartridge/controller**: Added payment permission to iframe allow attribute for proper Stripe Payment Request API access, enabling Apple Pay and Google Pay support (#2269)\n   245â†’- **@cartridge/keychain**: Reduced Ekubo API console noise by removing verbose 429 logging and adjusting retry/backoff configurations for better rate limit handling (#2268)\n   246â†’\n   247â†’### ğŸ”§ Refactoring\n   248â†’- **Development**: Removed build:compat infrastructure and associated dependencies, simplifying build configuration across packages (#2279)\n   249â†’\n   250â†’## [0.11.3-alpha.1] - 2025-12-01\n   251â†’\n   252â†’### âœ¨ New Features\n   253â†’- **@cartridge/keychain**: Added DevConnect booster pack claim integration with Merkle claim functionality, enabling users to claim DevConnect rewards through preimage-derived EVM addresses (#2249)\n   254â†’- **@cartridge/keychain**: Streamlined onchain starterpack purchase flow with direct checkout navigation, removing intermediate screens and defaulting to controller wallet for faster transactions (#2200)\n   255â†’- **@cartridge/keychain**: Added horizontal carousel for booster pack cards on mobile devices, providing swipeable navigation and improved touch experience (#2253)\n   256â†’- **@cartridge/keychain**: Added localStorage availability check for booster packs to ensure proper functionality across different environments (#2259)\n   257â†’- **@cartridge/keychain**: Added tournament game links integration for enhanced gaming navigation (#2252)\n   258â†’- **@cartridge/keychain**: Implemented token IDs retrieval from claim transactions for better transaction tracking (#2255)\n   259â†’\n   260â†’### ğŸš€ Improvements  \n   261â†’- **@cartridge/keychain**: Simplified redirect logic in ConnectRoute for more streamlined authentication flows (#2248)\n   262â†’- **@cartridge/keychain**: Enhanced claim interactions for mystery assets with improved user feedback (#2257)\n   263â†’- **@cartridge/keychain**: Restored claim call functionality for improved transaction processing (#2254)\n   264â†’\n   265â†’### ğŸ› Bug Fixes\n   266â†’- **@cartridge/controller**: Fixed iframe local network access by adding `local-network-access *` to iframe allow attribute, enabling proper local development (#2266)\n   267â†’- **@cartridge/keychain**: Fixed merkle claim UI stuck issue preventing users from completing claim flows (#2261)\n   268â†’- **@cartridge/keychain**: Fixed token icon retrieval from presets for consistent token display (#2258)\n   269â†’- **@cartridge/keychain**: Added redirect URL support for WebAuthn authentication, improving authentication flow reliability (#2250)\n   270â†’- **@cartridge/keychain**: Fixed Turnkey popup navigation to keychain for better authentication routing (#2247)\n   271â†’- **@cartridge/keychain**: Updated ConnectRoute tests to match simplified redirect logic for improved test reliability (#2263)\n   272â†’- **@cartridge/keychain**: Fixed input format issues for better form validation (#2251)\n   273â†’- **@cartridge/keychain**: Fixed event parsing to only handle mystery item events properly (#2256)\n   274â†’\n   275â†’## [0.11.2] - 2025-11-14\n   276â†’\n   277â†’### âœ¨ New Features\n   278â†’- **@cartridge/keychain**: Implemented encrypted localStorage snapshot for Storage Access API using split-key encryption architecture, eliminating Cookie Store API dependency and enabling secure state transfer across third-party iframe boundaries (#2239)\n   279â†’\n   280â†’### ğŸš€ Improvements  \n   281â†’- **@cartridge/keychain**: Enhanced iOS popup reliability with retry logic, exponential backoff, and stability checks for improved authentication flow on iOS devices (#2244)\n   282â†’- **@cartridge/keychain**: Updated booster pack claim flow with improved component structure and better user experience (#2240)\n   283â†’- **@cartridge/keychain**: Enhanced debug logging with comprehensive Turnkey authentication logs for better troubleshooting (#2241)\n   284â†’\n   285â†’### ğŸ› Bug Fixes\n   286â†’- **@cartridge/keychain**: Fixed popup error handling by preventing thrown errors on blocked popups, maintaining original flow behavior for mobile compatibility (#2243)\n   287â†’- **@cartridge/keychain**: Reverted popup error logging to address reliability issues and maintain stable authentication flows (#2242, #2238)\n   288â†’- **@cartridge/keychain**: Fixed claim pill size display issues for better visual consistency (#2226)\n   289â†’- **@cartridge/keychain**: Fixed default image handling bug in booster pack components (#2225)\n   290â†’- **@cartridge/keychain**: Updated game links for improved navigation and user experience (#2224)\n   291â†’- **@cartridge/keychain**: Enhanced dynamic height CSS for better responsive design (#2233)\n   292â†’- **@cartridge/keychain**: Improved localStorage and dead-path cookie synchronization for standalone flows (#2232)\n   293â†’- **@cartridge/keychain**: Removed deprecated controller_redirect functionality to streamline authentication flows (#2230)\n   294â†’- **@cartridge/keychain**: Simplified storage access request logic for more reliable cross-domain authentication (#2229)\n   295â†’- **@cartridge/controller**: Refactored session creation to load controller from store for improved session management (#2228)\n   296â†’- **Development**: Fixed environment variable loading for live environment configuration (#2227)\n   297â†’\n   298â†’### ğŸ“¦ Dependencies\n   299â†’- **Development**: Added Storybook story for StandaloneConnect component for improved component testing and documentation (#2231)\n   300â†’\n   301â†’## [0.11.2-alpha.4] - 2025-11-13\n   302â†’\n   303â†’### âœ¨ New Features\n   304â†’- **@cartridge/keychain**: Added booster pack claim page for DevConnect rewards, enabling users to claim credits, tokens, and NFTs using private keys from reward URLs with comprehensive signature validation and post-claim actions (#2160)\n   305â†’\n   306â†’### ğŸš€ Improvements  \n   307â†’- **@cartridge/controller**: Refactored session architecture to move app_id from account constructors to session-specific operations, enabling a single shared controller instance to serve multiple applications through app-specific sessions (#2220)\n   308â†’\n   309â†’### ğŸ› Bug Fixes\n   310â†’- **@cartridge/controller**: Fixed standalone authentication flow storage access issues by adding debug logging for redirect detection, updating StandaloneConnect UI with generic permission messages, and removing pre-authenticated account display for improved security and clarity (#2217)\n   311â†’\n   312â†’### ğŸ“¦ Dependencies\n   313â†’- **@cartridge/ui**: Updated to commit df8934d for improved design consistency and functionality (#2218)\n   314â†’\n   315â†’## [0.11.2-alpha.3] - 2025-11-12\n   316â†’\n   317â†’### âœ¨ New Features\n   318â†’- **@cartridge/controller**: Added `signupOptions` support to SessionProvider, enabling developers to configure which authentication methods (Google, Discord, MetaMask, etc.) are available during session creation and bringing SessionProvider feature parity with ControllerProvider (#2219)\n   319â†’\n   320â†’## [0.11.2-alpha.2] - 2025-11-11\n   321â†’\n   322â†’### ğŸš€ Improvements\n   323â†’- **@cartridge/controller**: Refactored `openStarterPack` method signature to accept an options object instead of direct parameters, making the API more extensible for future additions (#2213)\n   324â†’\n   325â†’### ğŸ› Bug Fixes\n   326â†’- **@cartridge/controller**: Fixed standalone auth flow storage access by implementing dedicated `controller_storage_ready` parameter for redirect detection and automatic Storage Access API requests, enabling seamless cross-domain authentication flow (#2212)\n   327â†’- **@cartridge/keychain**: Reverted Turnkey nonce mismatch fix to address reliability issues (#2215)\n   328â†’\n   329â†’## [0.11.2-alpha.1] - 2025-11-11\n   330â†’\n   331â†’### âœ¨ New Features\n   332â†’- **@cartridge/keychain**: Added Ethereum preimage signing for Merkle claims, enabling users to claim tokens using a preimage when external wallets are not available or preferred (#2185)\n   333â†’\n   334â†’### ğŸš€ Improvements  \n   335â†’- **@cartridge/controller**: Refactored `openStarterPack` method signature to accept an options object instead of direct parameters, making the API more extensible for future additions (#2213)\n   336â†’- **@cartridge/keychain**: Simplified game redirect URLs in PlayButton component to use cleaner parameter format with direct game URLs (#2209)\n   337â†’- **Development**: Disabled Vite visualizer auto-open in production builds to streamline the build process (#2211)\n   338â†’- **Examples**: Added Nums game integration to the PlayButton component with appropriate redirect and preset configuration (#2206)\n   339â†’\n   340â†’### ğŸ› Bug Fixes\n   341â†’- **@cartridge/keychain**: Fixed Turnkey nonce mismatch by persisting nonce in localStorage across Auth0 redirects, resolving iframe recreation issues during the authentication flow (#2210)\n   342â†’\n   343â†’### ğŸ“¦ Dependencies\n   344â†’- **@cartridge/controller-wasm**: Updated to version 0.3.17 for improved functionality (#2207)\n   345â†’\n   346â†’## [0.11.0] - 2025-11-10\n   347â†’\n   348â†’### âœ¨ New Features\n   349â†’- **@cartridge/controller**: Added controller_redirect parameter for standalone flow, enabling automatic redirect to keychain for first-party storage access with preset support (#2192)\n   350â†’- **@cartridge/keychain**: Added Layerswap deposit support for starterpack purchases, replacing backend purchase flow with more flexible deposit-based approach (#2194)\n   351â†’- **@cartridge/keychain**: Added transaction hash display on success screen for onchain purchases, improving transaction transparency and user feedback (#2186)\n   352â†’- **@cartridge/keychain**: Added balance_of fallback and enhanced error handling for token balance checks, improving reliability of token balance queries (#2178)\n   353â†’- **Development**: Added conductor.json workspace configuration for improved development workflow (#2195)\n   354â†’\n   355â†’### ğŸš€ Improvements  \n   356â†’- **@cartridge/keychain**: Refactored starterpack architecture to separate claim and onchain flows with clearer terminology - \"backend\" starterpacks renamed to \"claimed\" starterpacks for better clarity (#2199)\n   357â†’- **@cartridge/keychain**: Enhanced standalone flow with automatic connector detection from redirect flow, improving user experience (#2189)\n   358â†’- **@cartridge/keychain**: Improved mobile detection logic for better cross-platform compatibility (#2175)\n   359â†’- **@cartridge/keychain**: Redesigned starterpack receiving and success screens for improved user experience (#2183)\n   360â†’- **@cartridge/keychain**: Enhanced transaction cancellation handling when navigating back from transaction flows (#2180)\n   361â†’\n   362â†’### ğŸ› Bug Fixes\n   363â†’- **@cartridge/keychain**: Fixed torii token configuration for improved token handling (#2201)\n   364â†’- **@cartridge/keychain**: Fixed session auto-creation redirect timing in standalone authentication flow (#2196)\n   365â†’- **@cartridge/keychain**: Fixed preset verification in standalone flow for more reliable preset validation (#2191)\n   366â†’- **@cartridge/keychain**: Fixed URL search parameter preservation in connect route to maintain state during navigation (#2188)\n   367â†’- **@cartridge/keychain**: Fixed achievement display issues for better user profile experience (#2181)\n   368â†’\n   369â†’### ğŸ”§ Refactoring\n   370â†’- **@cartridge/controller**: Removed unused onAuthenticationSuccess callback to streamline authentication flow (#2197)\n   371â†’- **@cartridge/keychain**: Deprecated CryptoCheckout component in favor of new Layerswap deposit approach (#2194)\n   372â†’\n   373â†’### ğŸ“¦ Dependencies\n   374â†’- **@cartridge/ui**: Updated to latest version for improved design consistency (#2190, #2182)\n   375â†’\n   376â†’## [0.10.7] - 2025-10-01\n   377â†’\n   378â†’### âœ¨ New Features\n   379â†’- **@cartridge/controller**: Added async/await pattern for controller initialization, providing better error handling and improved developer experience (#2070)\n   380â†’- **@cartridge/keychain**: Added disconnect redirect URL support for session provider, enabling better session management and app navigation (#2074)\n   381â†’\n   382â†’### ğŸš€ Improvements  \n   383â†’- **@cartridge/keychain**: Removed deprecated layout style overrides across components for cleaner UI rendering (#2040)\n   384â†’- **@cartridge/keychain**: Extracted keychain URL logic into dedicated function for better code organization and maintainability (#2071)\n   385â†’- **@cartridge/keychain**: Enhanced bottom navigation to preserve query parameters during navigation (#2072)\n   386â†’- **@cartridge/keychain**: Improved token sorting in ERC20 lists for better user experience (#2083)\n   387â†’- **Development**: Enforced React hook dependencies for improved code quality (#2065)\n   388â†’\n   389â†’### ğŸ› Bug Fixes\n   390â†’- **@cartridge/controller**: Fixed Ethereum wallet availability on mobile browsers by adding mobile detection to prevent unsupported wallet initialization (#2076)\n   391â†’- **@cartridge/keychain**: Fixed BigInt serialization errors in execute URL parameters by adding proper JSON serialization handling (#2084)\n   392â†’- **@cartridge/keychain**: Resolved circular dependency and BigInt handling issues in starterpack components (#2085)\n   393â†’- **@cartridge/keychain**: Fixed starterpack crypto cost breakdown display for accurate pricing information (#2081)\n   394â†’- **@cartridge/keychain**: Fixed controller loading state management for smoother user experience (#2078)\n   395â†’- **@cartridge/keychain**: Fixed authentication method types for improved type safety (#2073)\n   396â†’- **@cartridge/keychain**: Fixed inventory display issues and asset collection rendering (#2069, #2068)\n   397â†’\n   398â†’### ğŸ“¦ Dependencies\n   399â†’- **@cartridge/presets**: Updated to latest version for improved functionality (#2077)\n   400â†’\n   401â†’## [0.10.6] - 2025-09-26\n   402â†’\n   403â†’### âœ¨ New Features\n   404â†’- **@cartridge/keychain**: Added marketplace integration with consolidated arcade provider functionality, streamlining marketplace operations and improving the gaming marketplace experience (#2063)\n   405â†’- **@cartridge/keychain**: Added disconnect page with redirect deeplink support, enabling better session management and seamless app navigation (#2056)\n   406â†’- **@cartridge/keychain**: Implemented dynamic RPC URL override support for enhanced flexibility in network configuration, allowing developers to specify custom RPC endpoints dynamically (#2052)\n   407â†’\n   408â†’### ğŸš€ Improvements  \n   409â†’- **@cartridge/controller**: Enhanced Android native flow session provider with improved error handling and better session management reliability (#2066)\n   410â†’\n   411â†’### ğŸ› Bug Fixes\n   412â†’- **@cartridge/keychain**: Fixed purchase flow to use correct network icon, ensuring users see the appropriate network indicator during transactions (#2055)\n   413â†’- **@cartridge/keychain**: Fixed verified session creation to improve session validation and authentication flow reliability (#2062)\n   414â†’- **@cartridge/keychain**: Fixed game theme functionality for better theming consistency across gaming applications (#2050)\n   415â†’\n   416â†’### ğŸ“¦ Dependencies\n   417â†’- **Dojo**: Updated to latest version for improved gaming framework functionality (#2057)\n   418â†’\n   419â†’## [0.10.5] - 2025-09-20\n   420â†’\n   421â†’### ğŸ› Bug Fixes\n   422â†’- **@cartridge/controller**: Fixed session key GUID registration by adding proper signerToGuid generation and debug logging to SessionAccount constructor, ensuring proper session registration for Node.js provider (#2047)\n   423â†’- **@cartridge/keychain**: Fixed USDC payment type box visibility on Starter Pack pages by removing redundant USDC denomination badge from cost breakdown display (#2046)\n   424â†’- **@cartridge/keychain**: Fixed claim wallet detection to properly identify available wallets during claiming process, improving wallet selection reliability (#2045)\n   425â†’- **@cartridge/keychain**: Fixed starter pack UI by removing unintentional hover states from non-selectable starter items and hiding unnecessary icons in starter pack page header (#2026)\n   426â†’\n   427â†’## [0.10.4] - 2025-09-18\n   428â†’\n   429â†’### âœ¨ New Features\n   430â†’- **@cartridge/keychain**: Added cookie-based authentication for already connected accounts, improving user experience by maintaining login state across sessions (#2039)\n   431â†’\n   432â†’### ğŸ› Bug Fixes\n   433â†’- **@cartridge/controller**: Fixed external wallet availability detection to handle cases where StarkNet window objects are not immediately available on initialization, ensuring reliable StarkNet wallet detection (#2043)\n   434â†’\n   435â†’## [0.10.3] - 2025-09-17\n   436â†’\n   437â†’### âœ¨ New Features\n   438â†’- **@cartridge/keychain**: Added native social login functionality, enabling seamless authentication in native applications (#2010)\n   439â†’- **@cartridge/keychain**: Implemented robust retry logic with exponential backoff for transaction waiting operations, improving reliability for both external wallet and StarkNet transactions (#2032)\n   440â†’- **@cartridge/keychain**: Enhanced starter pack and cost breakdown UI with improved tooltips, verified/unverified edition support, and better item display (#1982)\n   441â†’\n   442â†’### ğŸš€ Improvements  \n   443â†’- **@cartridge/keychain**: Migrated all explorer URLs from StarkScan to Cartridge Explorer for consistent block exploration experience (#1883)\n   444â†’- **@cartridge/controller**: Improved nested execution error parsing to extract meaningful error messages from deeply nested JSON-RPC responses, showing specific contract errors instead of generic messages (#2033)\n   445â†’- **@cartridge/keychain**: Enhanced RPC error display in ExecutionContainer to show clean error descriptions instead of full JSON responses (#2023)\n   446â†’- **@cartridge/keychain**: Improved token ordering and balance handling for better user experience (#2029, #2024)\n   447â†’- **Dependencies**: Updated presets package and various UI components for improved functionality\n   448â†’\n   449â†’### ğŸ› Bug Fixes\n   450â†’- **@cartridge/keychain**: Fixed social authentication redirect URL handling for improved login reliability (#2035)\n   451â†’- **@cartridge/keychain**: Added comprehensive error handling to claim operations to prevent silent failures (#2030)\n   452â†’- **@cartridge/keychain**: Fixed cost component display to only show for paid starter packs, removing confusing cost breakdown from free claims (#2025)\n   453â†’- **@cartridge/keychain**: Fixed various UI regressions including useEffect dependencies, wallet integration, and controller creation flows (#2028, #2027)\n   454â†’- **@cartridge/keychain**: Fixed token balance display issues for accounts with no prior interactions (#2024)\n   455â†’- **@cartridge/keychain**: Resolved minor asset display issues in collection components (#2019)\n   456â†’- **@cartridge/keychain**: Fixed total claimable amount calculation (#2018)\n   457â†’\n   458â†’### ğŸ“¦ Dependencies\n   459â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality\n   460â†’- **controller-rs**: Updated to latest version for enhanced backend functionality\n   461â†’- **Various**: Updated workspace dependencies and lockfile maintenance\n   462â†’\n   463â†’## [0.10.2] - 2025-09-11\n   464â†’\n   465â†’### âœ¨ New Features\n   466â†’- **@cartridge/keychain**: Added environment-based configuration for merkle drop contracts enabling flexible contract deployment across different environments (#2008)\n   467â†’\n   468â†’### ğŸš€ Improvements  \n   469â†’- **@cartridge/keychain**: Migrated 6 transaction flows to use ExecutionContainer for direct execution, eliminating page redirects and providing inline transaction confirmation for improved UX (#2005)\n   470â†’- **@cartridge/keychain**: Enhanced session update prompting logic with better validation and synchronous rendering for improved transaction flow performance (#2007)\n   471â†’- **Examples**: Cleaned up Next.js example Profile component by removing collection-related buttons (#2011)\n   472â†’\n   473â†’### ğŸ› Bug Fixes\n   474â†’- **@cartridge/controller**: Fixed chain switching to always execute on request, ensuring reliable network changes (#2014)\n   475â†’- **@cartridge/keychain**: Fixed login validation to prevent authentication before controller username validation is complete (#2012)\n   476â†’- **@cartridge/keychain**: Fixed session creation flash issues for smoother session management (#2009)\n   477â†’- **@cartridge/keychain**: Fixed Braavos wallet chain switching by adding proper skip logic (#2006)\n   478â†’- **@cartridge/keychain**: Fixed merkle drop claim interface to properly display claim amounts (#2004)\n   479â†’\n   480â†’## [0.10.1] - 2025-09-10\n   481â†’\n   482â†’### âœ¨ New Features\n   483â†’- **@cartridge/keychain**: Added StarkNet wallets account changed listener for improved wallet integration and event handling (#1999)\n   484â†’- **@cartridge/keychain**: Enhanced claim UI to display connected wallet address for better user transparency (#2000)\n   485â†’- **@cartridge/keychain**: Added starterpack ID input support to example application for easier testing and development (#1998)\n   486â†’- **@cartridge/keychain**: Implemented merkle drop StarkNet claim signature verification for enhanced security (#1993)\n   487â†’- **@cartridge/keychain**: Added merkle-drop wallet selection with controller integration for streamlined claiming process (#1986)\n   488â†’- **@cartridge/controller**: Added outsideExecution support to StarterPack API for improved transaction handling (#1972)\n   489â†’- **@cartridge/controller**: Migrated collection listing to use ExecutionContainer for direct execution, improving performance (#2002)\n   490â†’\n   491â†’### ğŸš€ Improvements  \n   492â†’- **@cartridge/controller**: Enhanced fee estimation by scaling resource bounds by 1.5x for more reliable transaction processing (#1978)\n   493â†’- **@cartridge/keychain**: Restricted token support to only USDC, ETH, LORDS and STRK tokens for improved security and user experience (#1996)\n   494â†’- **Development**: Added dev:live scripts for production API testing to streamline development workflow (#2001)\n   495â†’\n   496â†’### ğŸ› Bug Fixes\n   497â†’- **@cartridge/controller**: Fixed controller crash after purchase to ensure stable operation (#1997)\n   498â†’- **@cartridge/keychain**: Resolved inventory assets disappearing after tab navigation (#1990)\n   499â†’- **@cartridge/keychain**: Fixed navigation stack reset issues in collection components (#1995)\n   500â†’- **@cartridge/keychain**: Fixed loot box image display issues (#1991)\n   501â†’- **@cartridge/keychain**: Resolved inventory view problems after purchase completion (#1989)\n   502â†’- **@cartridge/keychain**: Fixed token page empty state display (#1988)\n   503â†’\n   504â†’### ğŸ“¦ Dependencies\n   505â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#1994, #1992)\n   506â†’\n   507â†’## [0.10.0] - 2025-09-03\n   508â†’\n   509â†’### âœ¨ New Features\n   510â†’- **@cartridge/keychain**: Added starterpack claim merkle drop functionality, enabling efficient and secure starterpack distribution through merkle tree verification (#1928)\n   511â†’- **@cartridge/controller**: Re-implemented controller creation factory pattern for improved instantiation and configuration management (#1956)\n   512â†’- **@cartridge/keychain**: Removed feature flag for signers functionality, making multi-signer support generally available (#1961)\n   513â†’\n   514â†’### ğŸš€ Improvements  \n   515â†’- **Bundle Size**: Massive bundle size reduction through multiple optimizations:\n   516â†’  - Migrated from `@solana/web3.js` to lightweight `micro-sol-signer` library, reducing Solana-related code by ~450KB (#1951)\n   517â†’  - Removed MetaMask SDK dependency and migrated Ethereum wallets to shared EIP-6963 base class, saving several MB (#1950)\n   518â†’  - Replaced lodash dependency with custom utilities, eliminating unnecessary library weight (#1960)\n   519â†’- **@cartridge/keychain**: Enhanced error parsing with improved test coverage for \"Not active\" and ENTRYPOINT_NOT_FOUND cases (#1958, #1957)\n   520â†’- **@cartridge/keychain**: Improved nested error handling for better debugging and user experience (#1949)\n   521â†’- **@cartridge/controller**: Removed unreliable original signer checks for more robust signer management (#1952)\n   522â†’\n   523â†’### ğŸ› Bug Fixes\n   524â†’- **@cartridge/keychain**: Fixed client fee calculation for ERC721 transactions (#1955)\n   525â†’- **@cartridge/keychain**: Temporarily disabled Solana credits purchase due to reliability issues (#1948)\n   526â†’\n   527â†’### âš ï¸ Breaking Changes\n   528â†’- **StarkNet Dependencies**: Upgraded to StarkNet v8 with updated WalletAccount constructor API. Applications using WalletAccount directly may need to update from argument-based to object-based constructor parameters (#1939)\n   529â†’- **Ethereum Wallet Integration**: Removed MetaMask SDK in favor of EIP-6963 standard wallet detection. Applications relying on MetaMask SDK-specific features may need updates (#1950)\n   530â†’- **Dependencies**: Removed lodash dependency - any direct usage of lodash utilities from this package will need replacement (#1960)\n   531â†’\n   532â†’### ğŸ“¦ Dependencies\n   533â†’- **starknet**: Updated to ^8.1.2 for improved StarkNet integration and compatibility (#1939)\n   534â†’- **@starknet-react/core**: Updated to ^5.0.1 for StarkNet v8 support (#1939)\n   535â†’- **@starknet-react/chains**: Updated to ^5.0.1 for StarkNet v8 support (#1939)\n   536â†’- **@cartridge/ui**: Multiple updates for improved design consistency and functionality (#1959, #1953, #1947, #1945)\n   537â†’- **Dependencies Removed**: \n   538â†’  - lodash and @types/lodash (replaced with custom utilities)\n   539â†’  - @solana/web3.js and @solana/spl-token (replaced with micro-sol-signer)\n   540â†’  - @metamask/sdk (replaced with EIP-6963 standard)\n   541â†’\n   542â†’## [0.10.0-alpha.1] - 2025-08-29\n   543â†’\n   544â†’### ğŸ› Bug Fixes\n   545â†’- **@cartridge/controller**: Fixed WalletAccount constructor to properly work with starknet.js v8.5.2, ensuring compatibility with the latest StarkNet library version (#1943)\n   546â†’\n   547â†’## [0.10.0-alpha.0] - 2025-08-28\n   548â†’\n   549â†’### âœ¨ New Features\n   550â†’- **@cartridge/controller**: Added lazy load option to defer iframe mounting, improving initial page load performance and providing better control over when the controller iframe is loaded (#1934)\n   551â†’- **@cartridge/keychain**: Added fallback redirect option for social login when popup windows don't work, ensuring better compatibility across different browsers and environments (#1929)\n   552â†’- **@cartridge/controller**: Implemented StarkNet wallet switch chain and send transaction functionality, enabling seamless network switching and transaction execution with external wallets (#1927)\n   553â†’- **@cartridge/keychain**: Enabled Braavos wallet integration, expanding wallet compatibility for users (#1925)\n   554â†’- **@cartridge/keychain**: Combined payment method and network selection screens for a more streamlined user experience during transactions (#1920)\n   555â†’- **@cartridge/keychain**: Added claim starterpack UI, providing an intuitive interface for users to claim their starter packages (#1922)\n   556â†’\n   557â†’### ğŸš€ Improvements  \n   558â†’- **@cartridge/keychain**: Enhanced multicall error parsing to extract more meaningful error messages, improving debugging and user experience during transaction failures (#1923)\n   559â†’\n   560â†’### ğŸ› Bug Fixes\n   561â†’- **@cartridge/keychain**: Fixed social native login/signup issues to ensure proper authentication flow in native applications (#1937)\n   562â†’- **@cartridge/keychain**: Fixed starterpack hook functionality to ensure proper starterpack claiming and management (#1936)\n   563â†’- **@cartridge/keychain**: Fixed social login issues in native apps, improving authentication reliability (#1932)\n   564â†’- **@cartridge/controller**: Fixed issue where user cancellation of manual transactions was not properly propagated, ensuring proper event handling (#1931)\n   565â†’- **@cartridge/controller**: Fixed connection destroyed on navigate issue, preventing connection loss during page navigation (#1926)\n   566â†’- **@cartridge/keychain**: Fixed missing Base network block explorer integration (#1919)\n   567â†’- **@cartridge/controller**: Fixed handling of transaction execution errors after session updates, improving error recovery and user feedback (#1916)\n   568â†’\n   569â†’### ğŸ“¦ Dependencies\n   570â†’- **starknet.js**: Updated to version 8.5.2 for improved StarkNet integration and bug fixes (#1940)\n   571â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1938, #1933, #1930, #1921)\n   572â†’\n   573â†’## [0.9.3] - 2025-08-13\n   574â†’\n   575â†’### âœ¨ New Features\n   576â†’- **@cartridge/keychain**: Added multichain purchase flow for starterpack, enabling seamless cross-chain purchasing with improved wallet and network selection (#1868)\n   577â†’- **@cartridge/controller**: Enabled switch chain functionality for external wallets, allowing users to change networks when using external wallet connections (#1899)\n   578â†’- **@cartridge/keychain**: Added ERC1155 listing and purchase support for enhanced NFT marketplace functionality (#1873)\n   579â†’- **@cartridge/keychain**: Added remove signer functionality, allowing users to remove additional signers from their accounts (#1874)\n   580â†’\n   581â†’### ğŸš€ Improvements  \n   582â†’- **@cartridge/controller**: Separated controller and sessions queries for improved performance and better data management (#1892)\n   583â†’- **@cartridge/keychain**: Enhanced validation error display to provide clearer feedback to users during transactions and form submissions (#1877)\n   584â†’- **Development**: Added Claude Code configuration for improved development workflow and AI-assisted coding (#1885)\n   585â†’\n   586â†’### ğŸ› Bug Fixes\n   587â†’- **@cartridge/keychain**: Fixed multi-purchase ERC721 functionality by replacing window.location pattern with useLocation hook and added proper search params handling (#1897)\n   588â†’- **@cartridge/keychain**: Fixed tokens loading forever issue that prevented proper token balance and information display (#1896)\n   589â†’- **@cartridge/keychain**: Fixed ERC721 listing detection to ensure proper marketplace functionality (#1893)\n   590â†’- **@cartridge/keychain**: Fixed purchase page loading issues for better user experience during transactions (#1894)\n   591â†’- **@cartridge/keychain**: Fixed navigation reset functionality to ensure proper routing after transactions (#1880)\n   592â†’- **@cartridge/keychain**: Fixed sign message handling for boolean values to prevent signing errors (#1879)\n   593â†’- **@cartridge/keychain**: Fixed external wallet transaction failures by improving error handling and transaction processing (#1878)\n   594â†’- **@cartridge/keychain**: Fixed parameter updates for better transaction handling (#1888)\n   595â†’- **CI/CD**: Removed non-working end-to-end CI tests to improve build reliability (#1895)\n   596â†’\n   597â†’### ğŸ“¦ Dependencies\n   598â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1886, #1882, #1881)\n   599â†’\n   600â†’## [0.9.2] - 2025-07-23\n   601â†’\n   602â†’### âœ¨ New Features\n   603â†’- **@cartridge/keychain**: Added popup flow for addOwner functionality, providing a streamlined user experience for adding account signers (#1835)\n   604â†’- **@cartridge/keychain**: Merged profile functionality into keychain, consolidating user profile management, inventory, achievements, and activity tracking into a unified interface (#1837)\n   605â†’\n   606â†’### ğŸš€ Improvements  \n   607â†’- **Development**: Added compatibility Next.js example build to improve development and testing workflows (#1836)\n   608â†’\n   609â†’### ğŸ› Bug Fixes\n   610â†’- **@cartridge/keychain**: Fixed password manager detection for hidden input fields to prevent interference with browser password managers (#1848)\n   611â†’- **@cartridge/keychain**: Fixed slot routes to ensure proper navigation and routing within the slot funding flow (#1847)\n   612â†’- **@cartridge/controller**: Fixed incorrect update session request handling to improve session management reliability (#1843)\n   613â†’- **@cartridge/keychain**: Fixed Bitwarden integration flow to ensure compatibility with the Bitwarden password manager (#1840)\n   614â†’- **@cartridge/keychain**: Enhanced logging and fixed various issues for better debugging and error tracking (#1839)\n   615â†’- **@cartridge/keychain**: Fixed multiple issues related to owners and session management for improved account functionality (#1834)\n   616â†’\n   617â†’### ğŸ“¦ Dependencies\n   618â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and functionality (#1845, #1833, #1832, #1831)\n   619â†’\n   620â†’## [0.9.0] - 2025-07-15\n   621â†’\n   622â†’### âœ¨ New Features\n   623â†’- **@cartridge/keychain**: Added slot funding flow for teams, enabling team-based slot funding with comprehensive purchase flow integration (#1815)\n   624â†’- **@cartridge/controller**: Added multi-signer support with the ability to add additional signers to accounts (#1813)\n   625â†’- **@cartridge/keychain**: Added feature gating for add-signer functionality to control access to multi-signer features (#1821)\n   626â†’\n   627â†’### ğŸš€ Improvements  \n   628â†’- **@cartridge/keychain**: Refactored purchase flow with improved component structure and better separation of concerns (#1808)\n   629â†’- **Development**: Removed Claude code review integration to streamline development workflow (#1824)\n   630â†’\n   631â†’### ğŸ› Bug Fixes\n   632â†’- **@cartridge/keychain**: Fixed slot team selection screen display issues (#1826)\n   633â†’- **@cartridge/keychain**: Improved error messaging for better user experience (#1818)\n   634â†’- **@cartridge/keychain**: Fixed version constraint issue when adding a signer (#1817)\n   635â†’\n   636â†’### ğŸ“¦ Dependencies\n   637â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency and bug fixes (#1827, #1825, #1823, #1822, #1820, #1819, #1816, #1814, #1811, #1805, #1803)\n   638â†’\n   639â†’## [0.8.0] - 2025-06-24\n   640â†’\n   641â†’### âœ¨ New Features\n   642â†’- **Session Management**: Added comprehensive session management functionality enabling secure session handling, registration, and consent flows for improved gaming UX (#1722)\n   643â†’- **Controller Interface Simplification**: Streamlined the main Controller interface with improved defaults and better developer experience (#1759)\n   644â†’\n   645â†’### ğŸš€ Improvements  \n   646â†’- **@cartridge/controller**: Refactored WalletConnect implementation in preparation for multiple signers support (#1780)\n   647â†’- **@cartridge/controller**: Improved chain precedence logic to prioritize cartridgeChains over provided chains (#1769)\n   648â†’- **CI/CD**: Enhanced release automation with GitHub releases creation (#1782) and job summaries (#1784)\n   649â†’- **CI/CD**: Added automated changelog generation workflows (#1786) and simplified release workflow (#1789)\n   650â†’- **Development**: Added Claude Code integration and workflow improvements for better collaboration (#1768, #1766)\n   651â†’\n   652â†’### ğŸ› Bug Fixes\n   653â†’- **@cartridge/profile**: Fixed decimal formatting for credits balance display (#1781)\n   654â†’- **@cartridge/controller**: Fixed Discord integration bug that occurred when no wallet session exists (#1762)\n   655â†’- **Documentation**: Resolved doc-sync injection issues and improved sync reliability (#1764, #1765)\n   656â†’- **CI/CD**: Fixed changelog generation and multi-line output issues in release workflows (#1788)\n   657â†’\n   658â†’### âš ï¸ Breaking Changes\n   659â†’- **Controller Interface**: The Controller interface has been simplified, which may require updates to existing integrations. Refer to the updated examples for migration guidance (#1759)\n   660â†’- **Session Management**: Introduction of new session management system may require updates to applications using custom session handling\n   661â†’\n   662â†’### ğŸ“¦ Dependencies\n   663â†’- **@cartridge/ui**: Multiple updates to the UI component library for improved design consistency (#1775, #1776, #1779)\n   664â†’- **Testing**: Enhanced test infrastructure with improved mocking and CI workflows\n   665â†’- **Build**: Updated TypeScript configurations and build processes across the monorepo\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"7cd20930-8732-48eb-9500-5c9b75b3709f"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01CtkCs4rdVkhn1U2WNLAfk3","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me get more detailed information about the specific commit to understand the changes better:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":15611,"cache_read_input_tokens":17791,"cache_creation":{"ephemeral_5m_input_tokens":15611,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"30744092-bf40-4920-a365-a3e1b3f6f391"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01CtkCs4rdVkhn1U2WNLAfk3","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Q2573tGcMRwa9vCgvtNyCN","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"completed"},{"content":"Review commit messages and changes for user-facing features","status":"in_progress"},{"content":"Check for any breaking changes or dependency updates","status":"pending"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":15611,"cache_read_input_tokens":17791,"cache_creation":{"ephemeral_5m_input_tokens":15611,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"076e8b29-6ed8-403a-858d-aceeea4d6303"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Q2573tGcMRwa9vCgvtNyCN","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"e54a3329-7028-43f7-a4bf-ffa0715cb9cc"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01McNUyaKrPrVtnkS2jUiNnB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01YUZUJnDrp82xQXC46G18h2","name":"Bash","input":{"command":"git show --stat e0ab711a","description":"Get detailed statistics of the main feature commit"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":209,"cache_read_input_tokens":33402,"cache_creation":{"ephemeral_5m_input_tokens":209,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"1261772b-a712-40ce-b806-16944a553d86"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01YUZUJnDrp82xQXC46G18h2","type":"tool_result","content":"commit e0ab711a707156dc50e1ef8a49631aba459d3332\nAuthor: Tarrence van As <tarrencev@users.noreply.github.com>\nDate:   Thu Feb 12 11:54:00 2026 -0600\n\n    Add headless username lookup and auto-signup connect (#2400)\n    \n    This adds `controller.lookupUsername(username)` for headless flows,\n    returning whether an account exists and normalized signer options for\n    the controllerâ€™s configured chain. It also updates headless connect to\n    auto-signup when a username is missing, while keeping strict signer\n    matching for existing accounts. The connector now exposes the lookup\n    helper, and docs were updated with the recommended lookup-first flow.\n    Tests were added for lookup normalization/error handling and for\n    password-based headless auto-signup.\n\n packages/connector/src/controller.ts               |   4 +\n packages/controller/HEADLESS_MODE.md               |  35 +-\n .../src/__tests__/lookupUsername.test.ts           | 166 ++++++++++\n packages/controller/src/controller.ts              |  13 +\n packages/controller/src/lookup.ts                  | 172 +++++++++-\n packages/controller/src/types.ts                   |   6 +\n .../keychain/src/utils/connection/headless.test.ts | 119 +++++++\n packages/keychain/src/utils/connection/headless.ts | 368 ++++++++++++++++++---\n 8 files changed, 834 insertions(+), 49 deletions(-)","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"6495c070-bbff-473c-94f0-8befdc852c35"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_019LjVEvGzsR3dpFiu2oqNrC","type":"message","role":"assistant","content":[{"type":"text","text":"Let me also check what's currently in the unreleased changes section to see if there are any version updates:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":494,"cache_read_input_tokens":33611,"cache_creation":{"ephemeral_5m_input_tokens":494,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"5804a790-7391-4411-8059-8bfa0f15a456"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_019LjVEvGzsR3dpFiu2oqNrC","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01H1NCjrMqzG8aF6qWNvPhic","name":"Bash","input":{"command":"git diff --name-only HEAD~1..HEAD | grep package.json","description":"Check if there are version updates in package.json files"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":494,"cache_read_input_tokens":33611,"cache_creation":{"ephemeral_5m_input_tokens":494,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"9becdb7b-dcad-408f-b097-5a3df73ae43f"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01H1NCjrMqzG8aF6qWNvPhic","type":"tool_result","content":"","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"05af841c-8eba-4595-aace-7718526bc1d3"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01RuS8yN2Q2hzsBdTfxxp6NJ","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check the git status mentioned in the initial context to see what package.json changes there are:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":143,"cache_read_input_tokens":34105,"cache_creation":{"ephemeral_5m_input_tokens":143,"ephemeral_1h_input_tokens":0},"output_tokens":6,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0b952a12-524e-4a21-9c45-4964cdfa28df"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01RuS8yN2Q2hzsBdTfxxp6NJ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01BQUYUYedHryoXMPhPDjKv9","name":"Bash","input":{"command":"git status --porcelain","description":"Check current git status for modified files"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":143,"cache_read_input_tokens":34105,"cache_creation":{"ephemeral_5m_input_tokens":143,"ephemeral_1h_input_tokens":0},"output_tokens":6,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"6a8e919f-d80a-4ea8-a239-391f0807660b"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BQUYUYedHryoXMPhPDjKv9","type":"tool_result","content":" M examples/capacitor/package.json\n M examples/next/package.json\n M examples/node/package.json\n M examples/svelte/package.json\n M packages/connector/package.json\n M packages/controller/package.json\n M packages/eslint/package.json\n M packages/keychain/package.json\n M packages/tsconfig/package.json","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"76adc2ab-402c-45b7-bda3-37f8786116eb"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01XSDEenWHCv88SNJCoZ3bKZ","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me update the todos and create the changelog entry:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":208,"cache_read_input_tokens":34248,"cache_creation":{"ephemeral_5m_input_tokens":208,"ephemeral_1h_input_tokens":0},"output_tokens":6,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"e5bd5836-fcf8-43ee-a022-3aab20be064b"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01XSDEenWHCv88SNJCoZ3bKZ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FnQ5HUSbEBEaQUvqankr2u","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"completed"},{"content":"Review commit messages and changes for user-facing features","status":"completed"},{"content":"Check for any breaking changes or dependency updates","status":"in_progress"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"pending"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":208,"cache_read_input_tokens":34248,"cache_creation":{"ephemeral_5m_input_tokens":208,"ephemeral_1h_input_tokens":0},"output_tokens":6,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"1a0b1eb8-6a6c-455b-a07a-99cf8bfaa9d7"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FnQ5HUSbEBEaQUvqankr2u","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"38212390-feaa-4a9a-a01c-e956c62fb375"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01ArgvtFVmDej6GKQNcuRoVg","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check if there are any breaking changes by examining the new API:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":204,"cache_read_input_tokens":34456,"cache_creation":{"ephemeral_5m_input_tokens":204,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"8302b640-efab-45ac-bcd3-1918784d1a65"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01ArgvtFVmDej6GKQNcuRoVg","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018UGPyfxbAgt2PsGo39Uh3q","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/packages/controller/src/lookup.ts","limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":204,"cache_read_input_tokens":34456,"cache_creation":{"ephemeral_5m_input_tokens":204,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"8c0f6fd3-8c88-453f-9d63-29abad51fc16"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018UGPyfxbAgt2PsGo39Uh3q","type":"tool_result","content":"     1â†’import {\n     2â†’  AuthOption,\n     3â†’  HeadlessUsernameLookupResult,\n     4â†’  IMPLEMENTED_AUTH_OPTIONS,\n     5â†’  LookupRequest,\n     6â†’  LookupResponse,\n     7â†’} from \"./types\";\n     8â†’import { constants, num } from \"starknet\";\n     9â†’import { API_URL } from \"./constants\";\n    10â†’\n    11â†’const cache = new Map<string, string>();\n    12â†’const QUERY_URL = `${API_URL}/query`;\n    13â†’\n    14â†’type LookupSigner = {\n    15â†’  isOriginal: boolean;\n    16â†’  isRevoked: boolean;\n    17â†’  metadata: {\n    18â†’    __typename: string;\n    19â†’    eip191?: Array<{\n    20â†’      provider: string;\n    21â†’      ethAddress: string;\n    22â†’    }> | null;\n    23â†’  };\n    24â†’};\n    25â†’\n    26â†’type LookupSignersQueryResponse = {\n    27â†’  data?: {\n    28â†’    account?: {\n    29â†’      username: string;\n    30â†’      controllers?: {\n    31â†’        edges?: Array<{\n    32â†’          node?: {\n    33â†’            signers?: LookupSigner[] | null;\n    34â†’          } | null;\n    35â†’        } | null> | null;\n    36â†’      } | null;\n    37â†’    } | null;\n    38â†’  };\n    39â†’  errors?: Array<{ message?: string }>;\n    40â†’};\n    41â†’\n    42â†’async function lookup(request: LookupRequest): Promise<LookupResponse> {\n    43â†’  if (!request.addresses?.length && !request.usernames?.length) {\n    44â†’    return { results: [] };\n    45â†’  }\n    46â†’\n    47â†’  const response = await fetch(`${API_URL}/lookup`, {\n    48â†’    method: \"POST\",\n    49â†’    headers: {\n    50â†’      \"Content-Type\": \"application/json\",\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"860c2608-d24b-4ed5-b0b7-4a8a6dd3670d"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01PRbPMrGHjPKE8FjfGVu3cE","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CFZms4oX7R6aiX21VE18jA","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/packages/controller/src/types.ts","offset":1,"limit":50}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":700,"cache_read_input_tokens":34660,"cache_creation":{"ephemeral_5m_input_tokens":700,"ephemeral_1h_input_tokens":0},"output_tokens":106,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"244ab020-4799-4f36-9100-92141a9139e5"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CFZms4oX7R6aiX21VE18jA","type":"tool_result","content":"     1â†’import { Policy, SessionPolicies } from \"@cartridge/presets\";\n     2â†’import {\n     3â†’  AddInvokeTransactionResult,\n     4â†’  ChainId,\n     5â†’  Signature,\n     6â†’  TypedData,\n     7â†’} from \"@starknet-io/types-js\";\n     8â†’import {\n     9â†’  Abi,\n    10â†’  BigNumberish,\n    11â†’  Call,\n    12â†’  constants,\n    13â†’  InvocationsDetails,\n    14â†’} from \"starknet\";\n    15â†’import { KeychainIFrame } from \"./iframe\";\n    16â†’import {\n    17â†’  AUTH_EXTERNAL_WALLETS,\n    18â†’  EXTERNAL_WALLETS,\n    19â†’  ExternalWallet,\n    20â†’  ExternalWalletResponse,\n    21â†’  ExternalWalletType,\n    22â†’} from \"./wallets/types\";\n    23â†’\n    24â†’export type KeychainSession = {\n    25â†’  chainId: constants.StarknetChainId;\n    26â†’  policies: Policy[];\n    27â†’  maxFee: BigNumberish;\n    28â†’  expiresAt: bigint;\n    29â†’  credentials: {\n    30â†’    authorization: string[];\n    31â†’    privateKey: string;\n    32â†’  };\n    33â†’};\n    34â†’\n    35â†’export const EMBEDDED_WALLETS = [\n    36â†’  \"google\",\n    37â†’  \"webauthn\",\n    38â†’  \"discord\",\n    39â†’  \"walletconnect\",\n    40â†’  \"password\",\n    41â†’] as const;\n    42â†’\n    43â†’export type EmbeddedWallet = (typeof EMBEDDED_WALLETS)[number];\n    44â†’\n    45â†’export const ALL_AUTH_OPTIONS = [\n    46â†’  ...EMBEDDED_WALLETS,\n    47â†’  ...EXTERNAL_WALLETS,\n    48â†’] as const;\n    49â†’\n    50â†’export type AuthOption = (typeof ALL_AUTH_OPTIONS)[number];\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"755cab62-84d4-4e64-961e-ce1a9938ff5e"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_016fMTYDszi5FGd2KujETc3r","type":"message","role":"assistant","content":[{"type":"text","text":"Let me search for the new HeadlessUsernameLookupResult type:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":700,"cache_read_input_tokens":35360,"cache_creation":{"ephemeral_5m_input_tokens":700,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"416658dc-9571-4f3c-824f-bfb7ecc37c15"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_016fMTYDszi5FGd2KujETc3r","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UXixm4KV2ndTh7Km8tPQ7a","name":"Grep","input":{"pattern":"HeadlessUsernameLookupResult","path":"/home/runner/work/controller/controller/packages/controller/src","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":700,"cache_read_input_tokens":35360,"cache_creation":{"ephemeral_5m_input_tokens":700,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"5c498207-ab9d-49c2-ab73-1c5aff6dd850"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UXixm4KV2ndTh7Km8tPQ7a","type":"tool_result","content":"/home/runner/work/controller/controller/packages/controller/src/types.ts:123:export interface HeadlessUsernameLookupResult {\n/home/runner/work/controller/controller/packages/controller/src/controller.ts:32:  HeadlessUsernameLookupResult,\n/home/runner/work/controller/controller/packages/controller/src/controller.ts:537:  ): Promise<HeadlessUsernameLookupResult> {\n/home/runner/work/controller/controller/packages/controller/src/lookup.ts:3:  HeadlessUsernameLookupResult,\n/home/runner/work/controller/controller/packages/controller/src/lookup.ts:168:): Promise<HeadlessUsernameLookupResult> {"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"8248b097-7880-4082-8378-16bc7757aed3"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_018BJjKSgBVWQRhtZ1647Ewz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_019qpjhm72YErUqA9RRBJaCX","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/packages/controller/src/types.ts","offset":120,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":341,"cache_read_input_tokens":36060,"cache_creation":{"ephemeral_5m_input_tokens":341,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"035a4f88-df8f-4eff-9d0f-d8c6a86d5341"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_019qpjhm72YErUqA9RRBJaCX","type":"tool_result","content":"   120â†’  results: LookupResult[];\n   121â†’}\n   122â†’\n   123â†’export interface HeadlessUsernameLookupResult {\n   124â†’  username: string;\n   125â†’  exists: boolean;\n   126â†’  signers: AuthOption[];\n   127â†’}\n   128â†’\n   129â†’export enum FeeSource {\n   130â†’  PAYMASTER = \"PAYMASTER\",\n   131â†’  CREDITS = \"CREDITS\",\n   132â†’}\n   133â†’\n   134â†’type ContractAddress = string;\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"369474aa-6940-499d-9f50-651ad72ad8ab"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01MmrVoLTxo5GitAi2bBdW45","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me check the connector changes:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":315,"cache_read_input_tokens":36401,"cache_creation":{"ephemeral_5m_input_tokens":315,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"37289ec0-3b97-4320-926f-5e07d0ef1d7f"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01MmrVoLTxo5GitAi2bBdW45","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014psNSn861dzmfSPkz8swDx","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/packages/connector/src/controller.ts","limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":315,"cache_read_input_tokens":36401,"cache_creation":{"ephemeral_5m_input_tokens":315,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"7a57c612-9431-443c-83ec-aa920aab7342"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014psNSn861dzmfSPkz8swDx","type":"tool_result","content":"     1â†’import ControllerProvider, {\n     2â†’  ConnectOptions,\n     3â†’  ControllerOptions,\n     4â†’} from \"@cartridge/controller\";\n     5â†’import { Connector, InjectedConnector } from \"@starknet-react/core\";\n     6â†’\n     7â†’export default class ControllerConnector extends InjectedConnector {\n     8â†’  public controller: ControllerProvider;\n     9â†’\n    10â†’  constructor(options: ControllerOptions = {}) {\n    11â†’    let controller: ControllerProvider;\n    12â†’\n    13â†’    if (typeof window !== \"undefined\" && (window as any).starknet_controller) {\n    14â†’      console.warn(\n    15â†’        \"ControllerConnector was instantiated multiple times. \" +\n    16â†’          \"Reusing existing controller to prevent errors. \" +\n    17â†’          \"To fix, create the connector at the module level instead of inside a React component.\",\n    18â†’      );\n    19â†’      controller = (window as any).starknet_controller;\n    20â†’    } else {\n    21â†’      controller = new ControllerProvider(options);\n    22â†’    }\n    23â†’\n    24â†’    super({ options: { id: controller.id, name: controller.name } });\n    25â†’    this.controller = controller;\n    26â†’  }\n    27â†’\n    28â†’  async disconnect() {\n    29â†’    await this.controller.disconnect();\n    30â†’    try {\n    31â†’      await super.disconnect();\n    32â†’    } catch {\n    33â†’      // Best-effort: starknet-react may call disconnect even when the injected wallet isn't present.\n    34â†’    }\n    35â†’  }\n    36â†’\n    37â†’  username() {\n    38â†’    return this.controller.username();\n    39â†’  }\n    40â†’\n    41â†’  lookupUsername(username: string) {\n    42â†’    return this.controller.lookupUsername(username);\n    43â†’  }\n    44â†’\n    45â†’  isReady(): boolean {\n    46â†’    return this.controller.isReady();\n    47â†’  }\n    48â†’\n    49â†’  async delegateAccount() {\n    50â†’    return await this.controller.delegateAccount();\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"4304fcd3-d450-49a4-bb24-c31128df111a"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_018sEXjkTtZWcKKrLVSE7T6G","type":"message","role":"assistant","content":[{"type":"text","text":"Let me check today's date to format the changelog entry correctly:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":733,"cache_read_input_tokens":36716,"cache_creation":{"ephemeral_5m_input_tokens":733,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"e9c4422b-1c60-4c11-b6b8-e60012ad8840"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_018sEXjkTtZWcKKrLVSE7T6G","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01FaRcsoRaz8Fw61S3y8y9Fe","name":"Bash","input":{"command":"date +%Y-%m-%d","description":"Get today's date for changelog entry"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":733,"cache_read_input_tokens":36716,"cache_creation":{"ephemeral_5m_input_tokens":733,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"4e33b98f-4c50-4230-a121-0fcd829e74d0"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FaRcsoRaz8Fw61S3y8y9Fe","type":"tool_result","content":"2026-02-12","is_error":false}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"a3f0569f-e724-4ad7-b3d1-716ff39770ca"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EeLhPnDou2gLbxS9u63zgw","type":"message","role":"assistant","content":[{"type":"text","text":"Now I'll complete the analysis and update the changelog:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":114,"cache_read_input_tokens":37449,"cache_creation":{"ephemeral_5m_input_tokens":114,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"b2a98f86-8ca5-478f-8723-938f8acdf015"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EeLhPnDou2gLbxS9u63zgw","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01ELDyddF6EYj5nFrJwegtj6","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"completed"},{"content":"Review commit messages and changes for user-facing features","status":"completed"},{"content":"Check for any breaking changes or dependency updates","status":"completed"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"in_progress"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":114,"cache_read_input_tokens":37449,"cache_creation":{"ephemeral_5m_input_tokens":114,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"9c7a877f-312a-4819-89c0-6b3b920b26c0"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01ELDyddF6EYj5nFrJwegtj6","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"ef5ad834-7ae9-40ff-aa31-62be3345af49"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01AT1k1HX8eLQpXB2qzUd69f","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017fedi7zaKNksozZ1gVc3Gt","name":"Edit","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md","old_string":"# Changelog\n\n## [0.13.6] - 2026-02-12","new_string":"# Changelog\n\n## [0.13.7] - 2026-02-12\n\n### âœ¨ New Features\n- **@cartridge/controller**: Added `lookupUsername(username)` method for headless flows, returning account existence status and normalized signer options for the controller's configured chain (#2400)\n- **@cartridge/controller**: Added auto-signup functionality for headless connect when a username is missing, while maintaining strict signer matching for existing accounts (#2400)\n- **@cartridge/connector**: Exposed `lookupUsername` helper method through ControllerConnector for easier integration with starknet-react applications (#2400)\n\n### ğŸš€ Improvements\n- **Documentation**: Updated HEADLESS_MODE.md with recommended lookup-first flow patterns for improved developer guidance (#2400)\n- **Testing**: Added comprehensive test coverage for username lookup normalization, error handling, and password-based headless auto-signup flows (#2400)\n\n## [0.13.6] - 2026-02-12"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":203,"cache_read_input_tokens":37563,"cache_creation":{"ephemeral_5m_input_tokens":203,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"a950b4f7-8128-4c95-bab1-d28c081479a8"}
{"type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>File has not been read yet. Read it first before writing to it.</tool_use_error>","is_error":true,"tool_use_id":"toolu_017fedi7zaKNksozZ1gVc3Gt"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"5c065d33-fb58-4cc1-9b75-84fd20229d65"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01EHwxnMac3hWiFT1w5fTbyh","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0192fqwhvRSt2AU1mgeRfCYE","name":"Read","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md","limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":400,"cache_read_input_tokens":37766,"cache_creation":{"ephemeral_5m_input_tokens":400,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"bb412159-aebf-459e-b71e-33be6e55a39b"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0192fqwhvRSt2AU1mgeRfCYE","type":"tool_result","content":"     1â†’# Changelog\n     2â†’\n     3â†’## [0.13.6] - 2026-02-12\n     4â†’\n     5â†’### ğŸš€ Improvements\n     6â†’- **@cartridge/controller**: Enhanced SessionProvider preset support with automatic policy resolution from `@cartridge/presets`, enabling developers to use `preset: \"my-game\"` instead of manually duplicating policies and ensuring consistent policy hashing between SDK and keychain (#2401)\n     7â†’- **Documentation**: Updated project structure documentation with comprehensive provider flows, clarified ControllerProvider (web) and SessionProvider (native) architecture, and improved examples directory guidance (#2404)\n     8â†’\n     9â†’### ğŸ› Bug Fixes\n    10â†’- **@cartridge/controller**: Fixed `session/not-registered` errors by normalizing contract addresses in policy hashing and consolidating async initialization to prevent policy hash divergence between SDK and keychain (#2401)\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0412afbf-b502-4cd4-a7cd-7be9dde18dc7"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01UxodjrqvP3bGcdiJxNjJUH","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HcfDZQiXcab5BGxcCDD78V","name":"Edit","input":{"file_path":"/home/runner/work/controller/controller/CHANGELOG.md","old_string":"# Changelog\n\n## [0.13.6] - 2026-02-12","new_string":"# Changelog\n\n## [0.13.7] - 2026-02-12\n\n### âœ¨ New Features\n- **@cartridge/controller**: Added `lookupUsername(username)` method for headless flows, returning account existence status and normalized signer options for the controller's configured chain (#2400)\n- **@cartridge/controller**: Added auto-signup functionality for headless connect when a username is missing, while maintaining strict signer matching for existing accounts (#2400)\n- **@cartridge/connector**: Exposed `lookupUsername` helper method through ControllerConnector for easier integration with starknet-react applications (#2400)\n\n### ğŸš€ Improvements\n- **Documentation**: Updated HEADLESS_MODE.md with recommended lookup-first flow patterns for improved developer guidance (#2400)\n- **Testing**: Added comprehensive test coverage for username lookup normalization, error handling, and password-based headless auto-signup flows (#2400)\n\n## [0.13.6] - 2026-02-12"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":384,"cache_read_input_tokens":38166,"cache_creation":{"ephemeral_5m_input_tokens":384,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"c1db2bc2-cd25-4af0-aa05-a3da83f0b879"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HcfDZQiXcab5BGxcCDD78V","type":"tool_result","content":"The file /home/runner/work/controller/controller/CHANGELOG.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n     1â†’# Changelog\n     2â†’\n     3â†’## [0.13.7] - 2026-02-12\n     4â†’\n     5â†’### âœ¨ New Features\n     6â†’- **@cartridge/controller**: Added `lookupUsername(username)` method for headless flows, returning account existence status and normalized signer options for the controller's configured chain (#2400)\n     7â†’- **@cartridge/controller**: Added auto-signup functionality for headless connect when a username is missing, while maintaining strict signer matching for existing accounts (#2400)\n     8â†’- **@cartridge/connector**: Exposed `lookupUsername` helper method through ControllerConnector for easier integration with starknet-react applications (#2400)\n     9â†’\n    10â†’### ğŸš€ Improvements\n    11â†’- **Documentation**: Updated HEADLESS_MODE.md with recommended lookup-first flow patterns for improved developer guidance (#2400)\n    12â†’- **Testing**: Added comprehensive test coverage for username lookup normalization, error handling, and password-based headless auto-signup flows (#2400)\n    13â†’\n    14â†’## [0.13.6] - 2026-02-12\n    15â†’\n    16â†’### ğŸš€ Improvements\n    17â†’- **@cartridge/controller**: Enhanced SessionProvider preset support with automatic policy resolution from `@cartridge/presets`, enabling developers to use `preset: \"my-game\"` instead of manually duplicating policies and ensuring consistent policy hashing between SDK and keychain (#2401)\n    18â†’- **Documentation**: Updated project structure documentation with comprehensive provider flows, clarified ControllerProvider (web) and SessionProvider (native) architecture, and improved examples directory guidance (#2404)"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"244fb603-587e-4f54-8a35-0837aa9d6eb8"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01Jq5RqMWwFDXZxksngL2fPn","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Q9JmiTGumXVZ4g7jV89yEr","name":"TodoWrite","input":{"todos":[{"content":"Analyze git commits between v0.13.6 and HEAD","status":"completed"},{"content":"Review commit messages and changes for user-facing features","status":"completed"},{"content":"Check for any breaking changes or dependency updates","status":"completed"},{"content":"Update CHANGELOG.md with new 0.13.7 entry","status":"completed"}]}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":809,"cache_read_input_tokens":38550,"cache_creation":{"ephemeral_5m_input_tokens":809,"ephemeral_1h_input_tokens":0},"output_tokens":147,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"78c09534-b0be-4325-adfa-7665fe4e3a00"}
{"type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Q9JmiTGumXVZ4g7jV89yEr","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"0efc0756-924b-46ee-a2b1-5a644e7a48c5"}
{"type":"assistant","message":{"model":"claude-sonnet-4-20250514","id":"msg_01XWHr4gPCyAz1oKcjSSXwUo","type":"message","role":"assistant","content":[{"type":"text","text":"Perfect! I've successfully generated and added the changelog entry for version 0.13.7. \n\n## Summary\n\nI analyzed the git commits between v0.13.6 and HEAD and created a comprehensive changelog entry for version 0.13.7 with the following key changes:\n\n### âœ¨ New Features\n- **@cartridge/controller**: Added `lookupUsername(username)` method for headless flows\n- **@cartridge/controller**: Added auto-signup functionality for headless connect \n- **@cartridge/connector**: Exposed `lookupUsername` helper method through ControllerConnector\n\n### ğŸš€ Improvements\n- **Documentation**: Updated HEADLESS_MODE.md with recommended lookup-first flow patterns\n- **Testing**: Added comprehensive test coverage for the new functionality\n\nThe main feature (PR #2400) enhances headless authentication flows by allowing developers to check if a username exists before attempting connection, and automatically handles signup for new users while maintaining security for existing accounts. This is particularly useful for gaming applications that need streamlined authentication.\n\nNo breaking changes or significant dependency updates were identified in this release."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":189,"cache_read_input_tokens":39359,"cache_creation":{"ephemeral_5m_input_tokens":189,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"not_available"}},"parent_tool_use_id":null,"session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","uuid":"12de826b-31c1-4926-8df4-1b509b77ba22"}
{"type":"result","subtype":"success","is_error":false,"duration_ms":81262,"duration_api_ms":87643,"num_turns":58,"result":"Perfect! I've successfully generated and added the changelog entry for version 0.13.7. \n\n## Summary\n\nI analyzed the git commits between v0.13.6 and HEAD and created a comprehensive changelog entry for version 0.13.7 with the following key changes:\n\n### âœ¨ New Features\n- **@cartridge/controller**: Added `lookupUsername(username)` method for headless flows\n- **@cartridge/controller**: Added auto-signup functionality for headless connect \n- **@cartridge/connector**: Exposed `lookupUsername` helper method through ControllerConnector\n\n### ğŸš€ Improvements\n- **Documentation**: Updated HEADLESS_MODE.md with recommended lookup-first flow patterns\n- **Testing**: Added comprehensive test coverage for the new functionality\n\nThe main feature (PR #2400) enhances headless authentication flows by allowing developers to check if a username exists before attempting connection, and automatically handles signup for new users while maintaining security for existing accounts. This is particularly useful for gaming applications that need streamlined authentication.\n\nNo breaking changes or significant dependency updates were identified in this release.","session_id":"ca3e6fde-8561-47a5-9884-ef5b4eb6baae","total_cost_usd":0.3735214,"usage":{"input_tokens":2,"cache_creation_input_tokens":189,"cache_read_input_tokens":39359,"output_tokens":250,"server_tool_use":{"web_search_requests":0},"service_tier":"standard"},"permission_denials":[],"uuid":"9360316f-f677-4f75-9c22-b416d1c93da6"}
